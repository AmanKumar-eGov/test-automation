[{"line":1,"elements":[{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":289028450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1124317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:33.045 karate.env:  \n15:40:33.045 locale: en_IN \n15:40:33.045 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2385463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":969174,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":1616536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1025722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":961722,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":926495,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":608272,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":3094042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":3273032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":3622720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":1068035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":1001078,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":737304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":215676444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1117117,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":1052011,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1506168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":13162922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":3096057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":11912661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":327278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":2958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2226,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":170017315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2396,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":6718,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":342240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:33.322 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590233098,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763033101,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"2294d610-6986-4bf8-87de-b8b0ccea2915\",\n          \"taxHeadMasterCode\": \"PT_FIRE_CESS\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590233515,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590233515\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"d2e70f10-076d-4595-9a29-7f7ce2c69c37\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590233515,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590233515\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-592741\",\n      \"id\": \"2294d610-6986-4bf8-87de-b8b0ccea2915\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":2320804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1637852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1377641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1700464,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":4174637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":66046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":35708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":32636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":29314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":38438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":1199918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":116039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":65741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":24059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":24105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":18961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":16834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1167544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":502899,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":181136459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":4288068,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":2200343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":5055343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1113477,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1062840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1097055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1166544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1360568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2412721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":6608757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":423800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":331520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":4121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":19387,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":140478824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":6276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1684790,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1714264,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":5159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":1015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":1093,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":1118253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1263670,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":1942359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":3072137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":3035335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1045554,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1842577,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":1023559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":6738973,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":19,"name":"Verify creating a payment transaction","description":"","id":"verify-creating-a-payment-transaction","type":"scenario","keyword":"Scenario","steps":[{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionSuccessfully')","result":{"duration":614403492,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":21},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":845409,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":377653,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":1472692,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url pgServices","result":{"duration":5536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":10},{"name":"request pgServicesCreatePayload","result":{"duration":3481,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"method post","result":{"duration":606542702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":12},{"name":"status 200","result":{"duration":1900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":13},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":5125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":14},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":1627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":15},{"name":"def txnId = pgServicesCreateResponseBody.Transaction.txnId","result":{"duration":1238706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":16},{"name":"match pgServicesCreateResponseBody == '#present'","result":{"duration":1211313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":23}],"tags":[{"name":"@PGCreate_01","line":18},{"name":"@coreServices","line":18},{"name":"@regression","line":18},{"name":"@positive","line":18},{"name":"@pgservices","line":18}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":256839323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1236847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:34.222 karate.env:  \n15:40:34.222 locale: en_IN \n15:40:34.222 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":3556887,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1510334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":2132040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1608465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":2624524,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":2378419,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":1235065,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":1375081,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1850757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":1518144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":668861,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":484272,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":462452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":194155246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2613003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2318921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1288729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":9745550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":1665532,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":16471624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":2833757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":4820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":4069,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":145417703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":7283,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2596,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":363361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:34.465 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590234267,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763034270,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"e4885add-e25d-470e-8a33-8d7de707ffad\",\n          \"taxHeadMasterCode\": \"PT_TIME_REBATE\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590234665,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590234665\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"f4b1d811-599c-4bbc-b7cf-96d98a3c82c4\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590234665,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590234665\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-790330\",\n      \"id\": \"e4885add-e25d-470e-8a33-8d7de707ffad\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1191002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1060072,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1374709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1599918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":3543975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":41427,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":19962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":15507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":14902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":20652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":1507949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":173152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":106949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":74998,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":44045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":34769,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":27441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":4741778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":646278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":179543535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":3727397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":3678250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1534930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1507544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1606445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1409999,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1398249,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":2567363,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":3796048,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":4391822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":348693,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":239642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":2704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":17681,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":137793910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1671572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1530942,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":3954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":1013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":975,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":928757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1057305,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":1277735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":84339769,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2721001,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1027153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1691593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":867707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":5915229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":26,"name":"Verify creating a payment transaction with invalid\/non existent or null value for \"TxnAmt\" in the request body and check for erros","description":"","id":"verify-creating-a-payment-transaction-with-invalid\/non-existent-or-null-value-for-\"txnamt\"-in-the-request-body-and-check-for-erros","type":"scenario","keyword":"Scenario","steps":[{"name":"def txnAmount = commonConstants.invalidParameters.invalidValue","result":{"duration":791063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":27},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionError')","result":{"duration":145209281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":29},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":29},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":1218279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":461268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":2122869,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url pgServices","result":{"duration":4373,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":21},{"name":"request pgServicesCreatePayload","result":{"duration":1978,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":22},{"name":"method post","result":{"duration":137497323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":23},{"name":"status 400","result":{"duration":3142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":24},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":8357,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":2649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException","result":{"duration":1610471,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":31}],"tags":[{"name":"@PGCreate_InvalidTxnAmt_03","line":25},{"name":"@coreServices","line":25},{"name":"@regression","line":25},{"name":"@negative","line":25},{"name":"@pgservices","line":25}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":254498028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1531849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:34.970 karate.env:  \n15:40:34.971 locale: en_IN \n15:40:34.972 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2302896,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1005440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":1649259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1187978,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":1515561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":3191813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":1582883,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":1615348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1582043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":1562608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":656586,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":849612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":672611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":193575030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1392759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":1354350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":3662273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":13391022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":2027642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":9761367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":2292245,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":6301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":10125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":146324367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2604,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":6607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":318680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:35.215 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590235018,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763035021,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"f1659201-a7e4-4abf-94ac-ac33dfd1e002\",\n          \"taxHeadMasterCode\": \"PT_TIME_PENALTY\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590235414,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590235414\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"ec7678dd-0231-4850-8b40-0f63008989c3\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590235414,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590235414\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-259011\",\n      \"id\": \"f1659201-a7e4-4abf-94ac-ac33dfd1e002\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1956575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1626190,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1329825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":2123293,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":1035179,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":34292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":15866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":13514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":13030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":18996,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":3502526,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":125720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":74327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":23070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":25096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":25316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":18811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1578188,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":588782,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":206437098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":6555938,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":2308565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1542369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1099232,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1048560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":2069936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1863837,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1484695,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2033301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":5101233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":879898,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":675369,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":5373,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":25729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":169172560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2715,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":6435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1662708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1444663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":5028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":1743,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":1512,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":924741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1225198,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":1362859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1782310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2325378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1118731,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":2120278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":1063358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":7904935,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":34,"name":"Verify creating a payment transaction with invalid\/non existent value for \"tenatid\" in the request body and check for errors","description":"","id":"verify-creating-a-payment-transaction-with-invalid\/non-existent-value-for-\"tenatid\"-in-the-request-body-and-check-for-errors","type":"scenario","keyword":"Scenario","steps":[{"name":"def tenantId = commonConstants.invalidParameters.invalidTenantId","result":{"duration":951895,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionError')","result":{"duration":146956721,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":37},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":37},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":857257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":655552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":1748516,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url pgServices","result":{"duration":3960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":21},{"name":"request pgServicesCreatePayload","result":{"duration":2713,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":22},{"name":"method post","result":{"duration":139849203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":23},{"name":"status 400","result":{"duration":1555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":24},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":4952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":2030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26}],"tags":[{"name":"@PGCreate_InvalidTenant_04","line":33},{"name":"@coreServices","line":33},{"name":"@regression","line":33},{"name":"@negative","line":33},{"name":"@pgservices","line":33}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":282707269,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1614615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:35.666 karate.env:  \n15:40:35.667 locale: en_IN \n15:40:35.667 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2749907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1405620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":2650654,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1781560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":1660415,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":1065129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":649184,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":1133726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":2316337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":1504798,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":782710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":654473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":603519,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":219830243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1519924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":1351533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1716231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":14833777,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":1780871,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":11984284,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":2213575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":3720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":167983153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":1967,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":4342,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":1150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":199367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:35.941 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590235719,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763035721,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"f3ed318b-9a16-48bd-a728-1995f9a34d48\",\n          \"taxHeadMasterCode\": \"PT_DECIMAL_CEILING_DEBIT\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590236130,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590236130\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"8dbd3b30-a85f-4204-b1ca-5ecd8a5c7486\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590236130,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590236130\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-7461\",\n      \"id\": \"f3ed318b-9a16-48bd-a728-1995f9a34d48\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":2500826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1391847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1741765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1509270,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":864927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":31233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":15616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":13383,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":12914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":18382,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":794152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":79924,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":46410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":14606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":16468,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":13327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":11736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1123310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1225930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":194797789,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":7103513,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":2995735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":2023254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1533352,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1701414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":999203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":918862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":913701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":1851819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":3605663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":337269,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":271030,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":4610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":20781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":187303,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":158857266,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":1773,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":4670,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1022486,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":983637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":4242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":990,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":1033,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":960748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1186056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":1520751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":2662109,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":3036844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1151278,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1879773,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":994615,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":6546228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":41,"name":"Verify creating a payment transaction with invalid\/non existent value for \"gateway\" in the request body and check for errors","description":"","id":"verify-creating-a-payment-transaction-with-invalid\/non-existent-value-for-\"gateway\"-in-the-request-body-and-check-for-errors","type":"scenario","keyword":"Scenario","steps":[{"name":"def gateway = commonConstants.invalidParameters.invalidValue","result":{"duration":989240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":42},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionError')","result":{"duration":140640195,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":44},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":1283202,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":523390,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":1696038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url pgServices","result":{"duration":4301,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":21},{"name":"request pgServicesCreatePayload","result":{"duration":2680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":22},{"name":"method post","result":{"duration":133211075,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":23},{"name":"status 400","result":{"duration":2535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":24},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":6610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":2330,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26}],"tags":[{"name":"@PGCreate_InvalidGateway_05","line":40},{"name":"@coreServices","line":40},{"name":"@regression","line":40},{"name":"@negative","line":40},{"name":"@pgservices","line":40}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":224903093,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2755244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:36.375 karate.env:  \n15:40:36.376 locale: en_IN \n15:40:36.376 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2295824,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1230564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":1957073,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1503514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":2326631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":1099515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":632463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":1384084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":2827656,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":1722886,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":734430,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":605327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":776542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":170268831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":969676,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":1019483,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1079925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":10685208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":2275034,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":8457642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":4891265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":4260,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":129866662,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":1542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":4416,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":1124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":209447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:36.591 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590236416,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763036418,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"f8eb2cdf-e3d9-4c4e-b459-f7d49bedfc2b\",\n          \"taxHeadMasterCode\": \"PT_TIME_REBATE\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590236794,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590236794\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"14386468-00b5-4716-acde-afdda934f522\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590236794,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590236794\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-317654\",\n      \"id\": \"f8eb2cdf-e3d9-4c4e-b459-f7d49bedfc2b\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1320860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1189919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1192441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1492779,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":918799,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":34210,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":21329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":14633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":14250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":24702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":1215941,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":130653,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":68123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":21161,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":23152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":18328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":17120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1570440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":640598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":362378748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":10049883,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":3774142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1398896,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1201493,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1159652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":8609273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1173967,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1229840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2208323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":13801990,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":476840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":272166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":3913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":17866,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":3039,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":304000833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":1570,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":3917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1026490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":914140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":3821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":932956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":946692,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":983082,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1588350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2181804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1058387,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1867705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":999417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":6921910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":62,"name":"Verify creating a payment transaction by passing a txn amount which is not equal to the amount paid","description":"","id":"verify-creating-a-payment-transaction-by-passing-a-txn-amount-which-is-not-equal-to-the-amount-paid","type":"scenario","keyword":"Scenario","steps":[{"name":"def txnAmount = txnAmount+100","result":{"duration":883841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":63},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionError')","result":{"duration":166335729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":65},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":65},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":730876,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":694608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":1252790,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url pgServices","result":{"duration":4046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":21},{"name":"request pgServicesCreatePayload","result":{"duration":1934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":22},{"name":"method post","result":{"duration":159918751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":23},{"name":"status 400","result":{"duration":1756,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":24},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":4157,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":1337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26}],"tags":[{"name":"@PGCreate_AmtVal_07","line":61},{"name":"@coreServices","line":61},{"name":"@regression","line":61},{"name":"@negative","line":61},{"name":"@pgservices","line":61}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":245404267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":984290,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:37.214 karate.env:  \n15:40:37.215 locale: en_IN \n15:40:37.215 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":3220338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":3209074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":2811106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1937286,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":1601829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":1649181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":991258,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":2217447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":3114729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":2923661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":997880,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":791770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":705800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":183203441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1184982,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":1047418,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1439058,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":14493143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":2617466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":11767008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":2451950,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":4530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2523,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":134240349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":6423,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":275988,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:37.453 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590237262,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763037265,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"5aa7634c-effe-49e7-8351-c4940a9e60a4\",\n          \"taxHeadMasterCode\": \"PT_TIME_REBATE\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590237654,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590237654\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"17a53d31-1e9d-4608-842b-3eb23fe9d9d7\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590237654,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590237654\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-109229\",\n      \"id\": \"5aa7634c-effe-49e7-8351-c4940a9e60a4\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1716628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1384270,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1360376,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1336426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":869813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":29313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":13803,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":11788,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":11717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":18920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":822130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":84785,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":48765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":15632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":17197,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":13757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":12172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1447465,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":506699,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":215126772,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":5755448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":2272717,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1135086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1049230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1099868,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1852272,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1170009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1467167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2137769,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":4052115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":562543,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":239214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":3617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":15957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":179539227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":8297,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1665650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1569112,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":4879,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":1152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":990788,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1023980,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":1031951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1766795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2360996,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1099326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1959549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":990678,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":6055850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":70,"name":"Verify creating a payment transaction by passing a bill id which is expired","description":"","id":"verify-creating-a-payment-transaction-by-passing-a-bill-id-which-is-expired","type":"scenario","keyword":"Scenario","steps":[{"name":"def consumerCode = 'PT-Test-' + ranInteger(6)","result":{"duration":1398049,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":72},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":997368,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":73},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":981207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":74},{"name":"def taxPeriodFrom = getPastEpochDate(2)","result":{"duration":2232340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":75},{"name":"def taxPeriodTo = getPastEpochDate(1)","result":{"duration":1009775,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":76},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1414214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":77},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":1332482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":78},{"name":"def taxAmount = 200","result":{"duration":646504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":79},{"name":"def collectionAmount = 0","result":{"duration":554549,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":80},{"name":"def minimumAmountPayable = 1","result":{"duration":559646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":81},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":186739032,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":82},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":82},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":8480476,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2434939,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1025327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":7224889,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":1606535,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":7793195,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":3590835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"url createDemandUrl","result":{"duration":2882,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2253,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"method post","result":{"duration":139275791,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":18},{"name":"status 201","result":{"duration":2800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":7130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2447,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":370008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22,"doc_string":{"content_type":"","value":"15:40:37.888 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628417437701,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628503837703,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"52f55c83-79fc-4130-87ac-2dd39e3ebdea\",\n          \"taxHeadMasterCode\": \"PT_TAX\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590238087,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590238087\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"352c5d65-ebc3-4f9e-8218-3dd528118933\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590238087,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590238087\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"PT-Test-121173\",\n      \"id\": \"52f55c83-79fc-4130-87ac-2dd39e3ebdea\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1891708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1656638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1822412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":190301041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":83},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":83},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":2845711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":2034257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":3055801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1240763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1444184,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1155760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1040909,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1028047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2243121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":8696164,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":406594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":236585,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":3454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":17010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":148687577,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":6348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1701103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1471315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":5650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":1870,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":1331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionError')","result":{"duration":518164641,"error_message":"com.intuit.karate.exception.KarateException: pgServices.feature:84 - \npgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https:\/\/qa.digit.org\/pg-service\/transaction\/v1\/_create?, response: {\"ResponseInfo\":{\"ver\":null,\"resMsgId\":\"uief87324\",\"msgId\":null,\"apiId\":null,\"ts\":null,\"status\":\"SUCCESSFUL\"},\"Transaction\":{\"redirectUrl\":\"https:\/\/migs.mastercard.co.in\/vpcpay?vpc_AccessCode=B26A7B34&vpc_Amount=20000&vpc_Version=1&vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&vpc_OrderInfo=91101055559214&vpc_Command=pay&vpc_Currency=INR&vpc_Merchant=TESTLCGOPJTXMIGS&vpc_Locale=en_IN&vpc_ReturnURL=https:\/\/qa.digit.org\/citizen\/egov-common\/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&vpc_SecureHashType=SHA256\",\"gatewayTxnId\":null,\"gatewayPaymentMode\":null,\"module\":\"PT\",\"gatewayStatusMsg\":null,\"txnStatusMsg\":\"Transaction initiated\",\"additionalDetails\":{\"taxAndPayments\":[{\"amountPaid\":200.0,\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"taxAmount\":null}]},\"productInfo\":\"Common Payment\",\"gatewayStatusCode\":null,\"taxAndPayments\":[{\"amountPaid\":200.0,\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"taxAmount\":null}],\"txnStatus\":\"PENDING\",\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"auditDetails\":{\"lastModifiedTime\":null,\"createdBy\":\"959745fe-66bc-45b2-9a35-609ec994abd4\",\"lastModifiedBy\":null,\"createdTime\":1628590238794},\"tenantId\":\"pb.amritsar\",\"consumerCode\":\"PT-Test-121173\",\"callbackUrl\":\"https:\/\/qa.digit.org\/citizen\/egov-common\/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14\",\"receipt\":null,\"user\":{\"mobileNumber\":\"7861259013\",\"name\":\"User nreRzoBWqS\",\"tenantId\":\"pb\",\"emailId\":null,\"userName\":\"User nreRzoBWqS\",\"uuid\":\"1e4b5538-240f-419b-b66a-cf43aab918c4\"},\"txnAmount\":\"200.0\",\"gateway\":\"AXIS\",\"txnId\":\"PB_PG_2021_08_10_006522_14\"}}","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":84,"doc_string":{"content_type":"","value":"15:40:38.602 feature call failed: classpath:com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature\narg: null\npgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https:\/\/qa.digit.org\/pg-service\/transaction\/v1\/_create?, response: {\"ResponseInfo\":{\"ver\":null,\"resMsgId\":\"uief87324\",\"msgId\":null,\"apiId\":null,\"ts\":null,\"status\":\"SUCCESSFUL\"},\"Transaction\":{\"redirectUrl\":\"https:\/\/migs.mastercard.co.in\/vpcpay?vpc_AccessCode=B26A7B34&vpc_Amount=20000&vpc_Version=1&vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&vpc_OrderInfo=91101055559214&vpc_Command=pay&vpc_Currency=INR&vpc_Merchant=TESTLCGOPJTXMIGS&vpc_Locale=en_IN&vpc_ReturnURL=https:\/\/qa.digit.org\/citizen\/egov-common\/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&vpc_SecureHashType=SHA256\",\"gatewayTxnId\":null,\"gatewayPaymentMode\":null,\"module\":\"PT\",\"gatewayStatusMsg\":null,\"txnStatusMsg\":\"Transaction initiated\",\"additionalDetails\":{\"taxAndPayments\":[{\"amountPaid\":200.0,\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"taxAmount\":null}]},\"productInfo\":\"Common Payment\",\"gatewayStatusCode\":null,\"taxAndPayments\":[{\"amountPaid\":200.0,\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"taxAmount\":null}],\"txnStatus\":\"PENDING\",\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"auditDetails\":{\"lastModifiedTime\":null,\"createdBy\":\"959745fe-66bc-45b2-9a35-609ec994abd4\",\"lastModifiedBy\":null,\"createdTime\":1628590238794},\"tenantId\":\"pb.amritsar\",\"consumerCode\":\"PT-Test-121173\",\"callbackUrl\":\"https:\/\/qa.digit.org\/citizen\/egov-common\/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14\",\"receipt\":null,\"user\":{\"mobileNumber\":\"7861259013\",\"name\":\"User nreRzoBWqS\",\"tenantId\":\"pb\",\"emailId\":null,\"userName\":\"User nreRzoBWqS\",\"uuid\":\"1e4b5538-240f-419b-b66a-cf43aab918c4\"},\"txnAmount\":\"200.0\",\"gateway\":\"AXIS\",\"txnId\":\"PB_PG_2021_08_10_006522_14\"}}","line":84}},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":84},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":928574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1122332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":9092219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url pgServices","result":{"duration":3612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":21},{"name":"request pgServicesCreatePayload","result":{"duration":1834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":22},{"name":"method post","result":{"duration":502848340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":23},{"name":"status 400","result":{"duration":295155,"error_message":"com.intuit.karate.exception.KarateException: pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https:\/\/qa.digit.org\/pg-service\/transaction\/v1\/_create?, response: {\"ResponseInfo\":{\"ver\":null,\"resMsgId\":\"uief87324\",\"msgId\":null,\"apiId\":null,\"ts\":null,\"status\":\"SUCCESSFUL\"},\"Transaction\":{\"redirectUrl\":\"https:\/\/migs.mastercard.co.in\/vpcpay?vpc_AccessCode=B26A7B34&vpc_Amount=20000&vpc_Version=1&vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&vpc_OrderInfo=91101055559214&vpc_Command=pay&vpc_Currency=INR&vpc_Merchant=TESTLCGOPJTXMIGS&vpc_Locale=en_IN&vpc_ReturnURL=https:\/\/qa.digit.org\/citizen\/egov-common\/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&vpc_SecureHashType=SHA256\",\"gatewayTxnId\":null,\"gatewayPaymentMode\":null,\"module\":\"PT\",\"gatewayStatusMsg\":null,\"txnStatusMsg\":\"Transaction initiated\",\"additionalDetails\":{\"taxAndPayments\":[{\"amountPaid\":200.0,\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"taxAmount\":null}]},\"productInfo\":\"Common Payment\",\"gatewayStatusCode\":null,\"taxAndPayments\":[{\"amountPaid\":200.0,\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"taxAmount\":null}],\"txnStatus\":\"PENDING\",\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"auditDetails\":{\"lastModifiedTime\":null,\"createdBy\":\"959745fe-66bc-45b2-9a35-609ec994abd4\",\"lastModifiedBy\":null,\"createdTime\":1628590238794},\"tenantId\":\"pb.amritsar\",\"consumerCode\":\"PT-Test-121173\",\"callbackUrl\":\"https:\/\/qa.digit.org\/citizen\/egov-common\/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14\",\"receipt\":null,\"user\":{\"mobileNumber\":\"7861259013\",\"name\":\"User nreRzoBWqS\",\"tenantId\":\"pb\",\"emailId\":null,\"userName\":\"User nreRzoBWqS\",\"uuid\":\"1e4b5538-240f-419b-b66a-cf43aab918c4\"},\"txnAmount\":\"200.0\",\"gateway\":\"AXIS\",\"txnId\":\"PB_PG_2021_08_10_006522_14\"}}","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":24,"doc_string":{"content_type":"","value":"15:40:38.602 status code was: 200, expected: 400, response time: 501, url: https:\/\/qa.digit.org\/pg-service\/transaction\/v1\/_create?, response: {\"ResponseInfo\":{\"ver\":null,\"resMsgId\":\"uief87324\",\"msgId\":null,\"apiId\":null,\"ts\":null,\"status\":\"SUCCESSFUL\"},\"Transaction\":{\"redirectUrl\":\"https:\/\/migs.mastercard.co.in\/vpcpay?vpc_AccessCode=B26A7B34&vpc_Amount=20000&vpc_Version=1&vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&vpc_OrderInfo=91101055559214&vpc_Command=pay&vpc_Currency=INR&vpc_Merchant=TESTLCGOPJTXMIGS&vpc_Locale=en_IN&vpc_ReturnURL=https:\/\/qa.digit.org\/citizen\/egov-common\/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&vpc_SecureHashType=SHA256\",\"gatewayTxnId\":null,\"gatewayPaymentMode\":null,\"module\":\"PT\",\"gatewayStatusMsg\":null,\"txnStatusMsg\":\"Transaction initiated\",\"additionalDetails\":{\"taxAndPayments\":[{\"amountPaid\":200.0,\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"taxAmount\":null}]},\"productInfo\":\"Common Payment\",\"gatewayStatusCode\":null,\"taxAndPayments\":[{\"amountPaid\":200.0,\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"taxAmount\":null}],\"txnStatus\":\"PENDING\",\"billId\":\"1a33b53f-4220-44fc-ab40-7e38ea928320\",\"auditDetails\":{\"lastModifiedTime\":null,\"createdBy\":\"959745fe-66bc-45b2-9a35-609ec994abd4\",\"lastModifiedBy\":null,\"createdTime\":1628590238794},\"tenantId\":\"pb.amritsar\",\"consumerCode\":\"PT-Test-121173\",\"callbackUrl\":\"https:\/\/qa.digit.org\/citizen\/egov-common\/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14\",\"receipt\":null,\"user\":{\"mobileNumber\":\"7861259013\",\"name\":\"User nreRzoBWqS\",\"tenantId\":\"pb\",\"emailId\":null,\"userName\":\"User nreRzoBWqS\",\"uuid\":\"1e4b5538-240f-419b-b66a-cf43aab918c4\"},\"txnAmount\":\"200.0\",\"gateway\":\"AXIS\",\"txnId\":\"PB_PG_2021_08_10_006522_14\"}}","line":24}},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26}],"tags":[{"name":"@PGCreate_ExpBill_08","line":69},{"name":"@coreServices","line":69},{"name":"@regression","line":69},{"name":"@negative","line":69},{"name":"@pgservices","line":69}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":260415319,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1673075,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:38.693 karate.env:  \n15:40:38.694 locale: en_IN \n15:40:38.694 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2294854,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":2081225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":2903461,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1299343,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":2983612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":2405826,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":668758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":2120221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1417450,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":2611275,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":682607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":552057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":530610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":198663528,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1735223,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":1060025,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1205820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":8683536,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":2427129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":14021469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":3992655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":4196,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":149647131,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":6793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":277060,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:38.942 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590238740,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763038742,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"07fce5ca-993b-4861-a4d0-24272738a0c0\",\n          \"taxHeadMasterCode\": \"PT_ADHOC_PENALTY\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590239139,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590239139\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"3b0f4af8-65f6-43d7-82f2-d012ad9f5321\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590239139,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590239139\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-458168\",\n      \"id\": \"07fce5ca-993b-4861-a4d0-24272738a0c0\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1975925,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1681832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1316350,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":2003018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":1296316,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":49013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":28094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":23236,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":28780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":32397,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":5174251,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":149517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":96277,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":32814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":33578,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":23577,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":21203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1415809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1280460,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":179995981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":3046611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":5001849,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1213622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1113683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":2244189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1088152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1038926,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1035964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":3840920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":4450963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":437124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":317420,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":3796,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":19479,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":141227400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":1952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":7544,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1729158,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1450144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":6719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":2213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":2359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":1909334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":3867425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":2795203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1821666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":3186064,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1708736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":2863283,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":1487325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":9570708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":88,"name":"Verify creating a payment transaction by passing a amount which is greater than amount due","description":"","id":"verify-creating-a-payment-transaction-by-passing-a-amount-which-is-greater-than-amount-due","type":"scenario","keyword":"Scenario","steps":[{"name":"def txnAmount = txnAmount+'0'","result":{"duration":1279166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":89},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionError')","result":{"duration":147793088,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":91},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":91},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":1583297,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1774140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":2372107,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url pgServices","result":{"duration":4511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":21},{"name":"request pgServicesCreatePayload","result":{"duration":4489,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":22},{"name":"method post","result":{"duration":137763533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":23},{"name":"status 400","result":{"duration":2440,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":24},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":8785,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":2325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26}],"tags":[{"name":"@PGCreate_AmtValDue_09","line":87},{"name":"@coreServices","line":87},{"name":"@regression","line":87},{"name":"@negative","line":87},{"name":"@pgservices","line":87}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":397747348,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1804609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:39.381 karate.env:  \n15:40:39.381 locale: en_IN \n15:40:39.381 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2126482,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1040995,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":2076385,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":3152959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":1302720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":990298,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":575760,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":1021485,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1301135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":1189505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":659326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":699325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":547147,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":208764015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2495677,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":998607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":986458,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":7765377,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":1574327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":11140500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":3343686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":4026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2719,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":159556858,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2005,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":6896,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":270963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:39.769 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590239562,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763039564,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"e6f012fa-f123-41f4-86ad-4a2e04ac1e6a\",\n          \"taxHeadMasterCode\": \"PT_FIRE_CESS\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590239965,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590239965\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"b54b0f16-a2ac-4158-9f05-5ce5f085ae31\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590239965,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590239965\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-539937\",\n      \"id\": \"e6f012fa-f123-41f4-86ad-4a2e04ac1e6a\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":4655517,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":2373587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1427608,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1651765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":997023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":31252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":14545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":10888,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":11285,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":18444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":839148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":86367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":51766,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":15012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":16930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":12103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":11505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1152997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1276428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":224504587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":2676143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":4040495,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1866367,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":3059841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1157154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1111886,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1110219,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":2013603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2702230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":21001952,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":609855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":439280,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":5406,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":28684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":167461432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":1413,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":4077,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1123036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":970786,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":6768,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":1125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":1010,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":966362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1160545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":1630002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1820720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2301231,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1108554,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1892024,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":1141313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":5818812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":95,"name":"Verify creating a payment transaction with invalid\/non existent value for \"bill id\" in the request body and check for errors","description":"","id":"verify-creating-a-payment-transaction-with-invalid\/non-existent-value-for-\"bill-id\"-in-the-request-body-and-check-for-errors","type":"scenario","keyword":"Scenario","steps":[{"name":"def billId = commonConstants.invalidParameters.invalidValue","result":{"duration":716394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":96},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionError')","result":{"duration":162270337,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":98},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":98},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":942706,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1385788,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":1834023,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url pgServices","result":{"duration":3622,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":21},{"name":"request pgServicesCreatePayload","result":{"duration":1987,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":22},{"name":"method post","result":{"duration":154857748,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":23},{"name":"status 400","result":{"duration":2463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":24},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":6562,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":2233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26}],"tags":[{"name":"@PGCreate_InvalidBillID_10","line":94},{"name":"@coreServices","line":94},{"name":"@regression","line":94},{"name":"@negative","line":94},{"name":"@pgservices","line":94}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":245312006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":3749449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:40.258 karate.env:  \n15:40:40.258 locale: en_IN \n15:40:40.259 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":3448565,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1267520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":2798963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":2282335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":1127098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":897551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":561834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":1024306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1433181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":1951100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":920709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":1096246,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":2153682,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":181864311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2016680,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":976569,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1382507,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":10098304,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":1563683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":10358294,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":2261693,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":4096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":140747734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":6785,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":376262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:40.495 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590240309,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763040310,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"b5c5bd3f-4223-4399-b463-909b5e66b257\",\n          \"taxHeadMasterCode\": \"PT_ADVANCE_CARRYFORWARD\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590240694,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590240694\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"5def0328-7e88-4741-8951-6cf9fb6aa182\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590240694,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590240694\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-185640\",\n      \"id\": \"b5c5bd3f-4223-4399-b463-909b5e66b257\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1500930,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1549381,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":2006104,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1988185,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":1013821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":33739,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":15573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":12626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":13643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":21140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":1176054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":163569,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":330839,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":67311,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":24215,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":16150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":13313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1240559,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1394845,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":178681556,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":2819037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":3599846,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1098655,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":887807,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":831873,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":822574,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1025552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1344148,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":4084170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":5537675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":361541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":193190,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":2635,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":16021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":142155570,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2490,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":6144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1729995,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1533144,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":3624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":976320,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1113910,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":1326609,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1820288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2367038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1135838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":2008229,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":1017642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":6185727,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":102,"name":"Verify creating a payment transaction with a bill id for which payment is already done","description":"","id":"verify-creating-a-payment-transaction-with-a-bill-id-for-which-payment-is-already-done","type":"scenario","keyword":"Scenario","steps":[{"name":"call read('..\/..\/business-services\/pretest\/collectionServicesPretest.feature@createPayment')","result":{"duration":442849775,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":104},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/collectionServicesPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":104},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1886581,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def collectionServicesConstants = read('..\/..\/business-services\/constants\/collection-services.yaml')","result":{"duration":2664766,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1168167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def tenantId = tenantId","result":{"duration":3658,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def paymentMode = collectionServicesConstants.parameters.paymentMode","result":{"duration":1162905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def paidBy = 'Payer ' + randomString(10)","result":{"duration":1355302,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":430617,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def payerName = 'Payer ' + randomString(10)","result":{"duration":78140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def totalDue = 0","result":{"duration":758045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def transactionNumber = collectionServicesConstants.parameters.transactionNumber","result":{"duration":1228591,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def instrumentNumber = collectionServicesConstants.parameters.instrumentNumber","result":{"duration":2151796,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def paymentModeForCard = collectionServicesConstants.parameters.paymentMode2","result":{"duration":1296893,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def paymentModeForCheque = collectionServicesConstants.parameters.paymentModeForCheque","result":{"duration":971983,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def transactionNumberForCheque = collectionServicesConstants.parameters.transactionNumberForCheque","result":{"duration":1087981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"def instrumentNumberForCheque = collectionServicesConstants.parameters.instrumentNumberForCheque","result":{"duration":1312462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18},{"name":"def instrumentDate = getPastEpochDate(1)","result":{"duration":3754595,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19},{"name":"def ifscCode = collectionServicesConstants.parameters.ifscCode","result":{"duration":1032707,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20},{"name":"def invalidBillId = generateUUID()","result":{"duration":1696035,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"def invalidBillId = generateUUID()","result":{"duration":85860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"def createPaymentRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/create.json')","result":{"duration":7554027,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23},{"name":"def workflowRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/workflow.json')","result":{"duration":5998287,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"def searchPaymentRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/search.json')","result":{"duration":2184709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":25},{"name":"def searchPTreceiptcount = read('..\/..\/business-services\/requestPayload\/collection-services\/receiptcount.json')","result":{"duration":2659185,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"def createPaymentRequestForCheque = read('..\/..\/business-services\/requestPayload\/collection-services\/createPaymentWithCheque.json')","result":{"duration":7852732,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":27},{"name":"def eChallanPaymentcount = read('..\/..\/business-services\/requestPayload\/collection-services\/echallancount.json')","result":{"duration":1888821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":2363315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":29},{"name":"def invalidBillId = 'invalid_'+randomNumber(4)","result":{"duration":2052354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"def invalidBusinessId = 'PT'+randomNumber(4)","result":{"duration":1783436,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":31},{"name":"def invalidPaymentMode = randomString(4)","result":{"duration":1769744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"def invalidTenantId = randomString(5)","result":{"duration":1592189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":33},{"name":"def negativeTotalAmount = '-'+randomNumber(4)","result":{"duration":1120993,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"url payment","result":{"duration":4074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":41},{"name":"request createPaymentRequest","result":{"duration":2168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":42},{"name":"method post","result":{"duration":361386594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":44},{"name":"status 200","result":{"duration":2785,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":45},{"name":"def collectionServicesResponseHeader = responseHeaders","result":{"duration":6855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":46},{"name":"def collectionServicesResponseBody = response","result":{"duration":2130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":47},{"name":"def Payments = collectionServicesResponseBody.Payments","result":{"duration":1441323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":48},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionError')","result":{"duration":176305728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":106},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":106},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":974145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":7015488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":8314506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url pgServices","result":{"duration":3771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":21},{"name":"request pgServicesCreatePayload","result":{"duration":2017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":22},{"name":"method post","result":{"duration":153265642,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":23},{"name":"status 400","result":{"duration":2580,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":24},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":6810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":2308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26}],"tags":[{"name":"@PGCreate_DupicatePay_11","line":101},{"name":"@coreServices","line":101},{"name":"@regression","line":101},{"name":"@negative","line":101},{"name":"@pgservices","line":101}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":391268220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":6146979,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:41.389 karate.env:  \n15:40:41.389 locale: en_IN \n15:40:41.390 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2039973,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":2605886,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":4418327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1533182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":1088889,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":2388793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":1680711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":2533850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1881968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":2367856,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":865592,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":601844,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":563741,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":326070799,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2252590,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":1006175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1107671,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":138260902,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":1609506,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":8264344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":2069012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":3585,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2325,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":159722955,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":1709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":4451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":1244,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":174217,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:41.770 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590241437,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763041441,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"399846a4-e3b8-4dfd-ae00-bcfa04825b3c\",\n          \"taxHeadMasterCode\": \"PT_DECIMAL_CEILING_CREDIT\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590241962,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590241962\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"40af113c-a84d-4697-8aa6-ec4ae92d02bb\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590241962,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590241962\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-267569\",\n      \"id\": \"399846a4-e3b8-4dfd-ae00-bcfa04825b3c\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":920433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1550541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1769985,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":3601167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":1631582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":36891,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":274003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":30111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":14734,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":31160,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":2365192,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":139255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":64744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":17649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":19650,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":13616,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":12439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1345810,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1324923,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":184263751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":4508381,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":5022705,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1130432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1070422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1076534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":2233140,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1621439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1909564,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2622275,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":3571247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":319340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":208847,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":2877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":14777,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":1878,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":145671774,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2478,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":6573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1719834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1462014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":3914,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":1061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":1116,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":976874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":2226511,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":2635310,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1811782,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2397000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1123250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1868781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":998046,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":6553103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":110,"name":"Update a payment transaction","description":"","id":"update-a-payment-transaction","type":"scenario","keyword":"Scenario","steps":[{"name":"call read('..\/..\/core-services\/pretests\/pgServiceUpdate.feature@updatePgTransactionSuccessfully')","result":{"duration":999160641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":112},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceUpdate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":112},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1653002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def pgServicesUpdatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesUpdate.json')","result":{"duration":2288012,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionSuccessfully')","result":{"duration":516762057,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":1050606,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1147820,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":1285694,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"url pgServices","result":{"duration":2979,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":10},{"name":"request pgServicesCreatePayload","result":{"duration":1974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":11},{"name":"method post","result":{"duration":505216457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":12},{"name":"status 200","result":{"duration":1918,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":13},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":5643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":14},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":1459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":15},{"name":"def txnId = pgServicesCreateResponseBody.Transaction.txnId","result":{"duration":1368299,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":16},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":334961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def pgServicesUpdateParam =","result":{"duration":928339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11,"doc_string":{"content_type":"","value":"{\n transactionId: '#(txnId)'\n}","line":11}},{"name":"url pgServicesUpdate","result":{"duration":3514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":17},{"name":"params pgServicesUpdateParam","result":{"duration":18239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"request pgServicesUpdatePayload","result":{"duration":2646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"method post","result":{"duration":471402989,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":22},{"name":"status 200","result":{"duration":1965,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":23},{"name":"def pgServicesUpdateResponseHeader = responseHeaders","result":{"duration":4723,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":24},{"name":"def pgServicesUpdateResponseBody = response","result":{"duration":1577,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25}],"tags":[{"name":"@PG_Update_01","line":109},{"name":"@coreServices","line":109},{"name":"@regression","line":109},{"name":"@positive","line":109},{"name":"@pgservices","line":109}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":290031777,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":3181763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:43.059 karate.env:  \n15:40:43.059 locale: en_IN \n15:40:43.059 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2877955,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1280414,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":1969190,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1206974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":1167203,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":1201771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":780843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":1355531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1765809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":2319263,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":1061901,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":1219142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":1089247,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":227687735,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2756701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2241683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1741479,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":16688437,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":3860443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":11146457,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":532125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":4883,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":172822745,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":6426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2222,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":379080,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:43.342 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590243109,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763043111,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"991add2f-2c09-4d46-800b-79621ed5f9f5\",\n          \"taxHeadMasterCode\": \"PT_DECIMAL_CEILING_DEBIT\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590243537,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590243537\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"aa28adf0-556a-4fa9-94bd-78b40651b2e2\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590243537,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590243537\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-83170\",\n      \"id\": \"991add2f-2c09-4d46-800b-79621ed5f9f5\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1565948,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1437293,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1472530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1417074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":891646,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":29889,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":14868,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":12462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":11969,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":19934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":878628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":123344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":89358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":19788,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":20181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":14233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":13504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":2214834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2204444,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":173188700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":3195907,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":2232313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1112454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1099767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1126817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1241972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1794851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1219968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2030725,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":5588062,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":408711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":806106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":5822,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":33179,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":139895184,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":6602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1872446,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1405692,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":4463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":1061228,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1471009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":1435239,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1851530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2445166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1142448,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1882070,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":1087445,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":5850370,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":116,"name":"Verify updating a payment transaction with invalid\/non existent value for \"transaction id\" in the request body","description":"","id":"verify-updating-a-payment-transaction-with-invalid\/non-existent-value-for-\"transaction-id\"-in-the-request-body","type":"scenario","keyword":"Scenario","steps":[{"name":"def transactionId = ranString(10)","result":{"duration":2420497,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":117},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceUpdate.feature@invalidTransactionIdError')","result":{"duration":126107597,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":119},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceUpdate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":119},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1939885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def pgServicesUpdatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesUpdate.json')","result":{"duration":2158811,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":393999,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"def pgServicesUpdateParam =","result":{"duration":1317986,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":31,"doc_string":{"content_type":"","value":"{\n transactionId: '#(txnId)'\n}","line":31}},{"name":"url pgServicesUpdate","result":{"duration":4792,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":37},{"name":"params pgServicesUpdateParam","result":{"duration":25916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"request pgServicesUpdatePayload","result":{"duration":2765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":41},{"name":"method post","result":{"duration":114846567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":43},{"name":"status 400","result":{"duration":1632,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":44},{"name":"def pgServicesUpdateResponseHeader = responseHeaders","result":{"duration":4831,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":45},{"name":"def pgServicesUpdateResponseBody = response","result":{"duration":1817,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":46}],"tags":[{"name":"@PGUpdate_InvalidTxnId_02","line":115},{"name":"@coreServices","line":115},{"name":"@regression","line":115},{"name":"@negative","line":115},{"name":"@pgservices","line":115}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":274775364,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":3560209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:43.742 karate.env:  \n15:40:43.742 locale: en_IN \n15:40:43.743 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":3148279,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1542016,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":4515793,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1828704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":1658431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":1222405,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":784103,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":1442118,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":2812233,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":3174989,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":1500221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":1008644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":1564947,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":210003267,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":8841110,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":4117038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":2327453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":13038792,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":1891209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":9047795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":349466,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":3317,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":3188,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":151070174,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2896,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":8744,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":294114,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:44.009 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590243792,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763043794,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"cdfee091-2520-4c31-81a2-f541cdc489db\",\n          \"taxHeadMasterCode\": \"PT_TAX\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590244202,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590244202\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"5fc15bbf-3b5a-4475-9177-be7f3d37ca2f\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590244202,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590244202\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-335089\",\n      \"id\": \"cdfee091-2520-4c31-81a2-f541cdc489db\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1500101,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1563720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1774073,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1771084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":985518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":34055,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":14230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":11920,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":12934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":19308,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":965686,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":97660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":57801,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":18290,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":18594,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":14621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":13290,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1500508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1439880,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":192802821,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":3077115,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":4102550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1708061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1997999,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":2145774,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1399853,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":957527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":924045,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":1669547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":4552142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":339426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":206515,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":3036,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":14767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2242,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":159062991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2394,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":6282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1746254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1656556,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":4612,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":1042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":1015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":1045194,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1191778,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":1765163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1984096,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2421534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1144603,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1923770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":996240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":6414220,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":123,"name":"Verify updating a payment transaction by not passing transaction id","description":"","id":"verify-updating-a-payment-transaction-by-not-passing-transaction-id","type":"scenario","keyword":"Scenario","steps":[{"name":"call read('..\/..\/core-services\/pretests\/pgServiceUpdate.feature@withouttransactionidpgservicefail')","result":{"duration":138778711,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":125},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceUpdate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":125},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2176636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def pgServicesUpdatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesUpdate.json')","result":{"duration":2341620,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":435435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":73},{"name":"url pgServicesUpdate","result":{"duration":4282,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":74},{"name":"request pgServicesUpdatePayload","result":{"duration":2738,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":76},{"name":"method post","result":{"duration":128695568,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":78},{"name":"status 400","result":{"duration":2929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":79},{"name":"def pgServicesUpdateResponseHeader = responseHeaders","result":{"duration":7754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":80},{"name":"def pgServicesUpdateResponseBody = response","result":{"duration":2644,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":81}],"tags":[{"name":"@PGUpdate_NoTxnId_03","line":122},{"name":"@coreServices","line":122},{"name":"@regression","line":122},{"name":"@negative","line":122},{"name":"@pgservices","line":122}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":288410384,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1735728,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:44.558 karate.env:  \n15:40:44.558 locale: en_IN \n15:40:44.559 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2061756,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1001007,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":2319838,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1626329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":2935962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":2490412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":1049828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":3573785,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1726841,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":1274123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":615099,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":513919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":496647,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":214811963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":3232412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":1744619,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1086771,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":8165410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":2674424,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":9851776,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":597788,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":4091,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":4652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":175553829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":6968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":275146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:44.842 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590244622,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763044627,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"c7a9310a-5c72-42c0-b748-6375ae282046\",\n          \"taxHeadMasterCode\": \"PT_DECIMAL_CEILING_CREDIT\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590245024,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590245024\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"3c741539-970e-4197-a9f4-0628894ccf08\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590245024,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590245024\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-160311\",\n      \"id\": \"c7a9310a-5c72-42c0-b748-6375ae282046\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1598794,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1588091,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1488047,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1410043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":928765,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":31344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":15139,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":12153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":11929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":19962,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":876443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":92296,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":56290,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":16774,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":22339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":16708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":13329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1462407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2847788,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":184902840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":2920205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":2736964,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1342461,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1354288,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1131175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1215053,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1094078,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1084042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2110750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":4173704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":821963,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":452404,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":6459,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":48327,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":154554505,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":1570,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":4252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1149031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":984346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":3834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":1125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":1075,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":1027372,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1209649,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":1340473,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1772850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2307124,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1147865,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1880361,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":1028273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":6447120,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":129,"name":"Verify updating by passing a transaction id which has expired bill and bill which is already paid","description":"","id":"verify-updating-by-passing-a-transaction-id-which-has-expired-bill-and-bill-which-is-already-paid","type":"scenario","keyword":"Scenario","steps":[{"name":"call read('..\/..\/business-services\/pretest\/collectionServicesPretest.feature@createPayment')","result":{"duration":487479726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":131},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/collectionServicesPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":131},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1046056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def collectionServicesConstants = read('..\/..\/business-services\/constants\/collection-services.yaml')","result":{"duration":2333832,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1174018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def tenantId = tenantId","result":{"duration":3346,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def paymentMode = collectionServicesConstants.parameters.paymentMode","result":{"duration":1229788,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def paidBy = 'Payer ' + randomString(10)","result":{"duration":1344860,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":415065,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def payerName = 'Payer ' + randomString(10)","result":{"duration":88017,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def totalDue = 0","result":{"duration":864621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def transactionNumber = collectionServicesConstants.parameters.transactionNumber","result":{"duration":1296698,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def instrumentNumber = collectionServicesConstants.parameters.instrumentNumber","result":{"duration":2175081,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def paymentModeForCard = collectionServicesConstants.parameters.paymentMode2","result":{"duration":1330998,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def paymentModeForCheque = collectionServicesConstants.parameters.paymentModeForCheque","result":{"duration":1048324,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def transactionNumberForCheque = collectionServicesConstants.parameters.transactionNumberForCheque","result":{"duration":960575,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"def instrumentNumberForCheque = collectionServicesConstants.parameters.instrumentNumberForCheque","result":{"duration":860770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18},{"name":"def instrumentDate = getPastEpochDate(1)","result":{"duration":2833214,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19},{"name":"def ifscCode = collectionServicesConstants.parameters.ifscCode","result":{"duration":966913,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":20},{"name":"def invalidBillId = generateUUID()","result":{"duration":2091422,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"def invalidBillId = generateUUID()","result":{"duration":97921,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"def createPaymentRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/create.json')","result":{"duration":8324514,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":23},{"name":"def workflowRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/workflow.json')","result":{"duration":5418611,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"def searchPaymentRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/search.json')","result":{"duration":1658840,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":25},{"name":"def searchPTreceiptcount = read('..\/..\/business-services\/requestPayload\/collection-services\/receiptcount.json')","result":{"duration":1846021,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"def createPaymentRequestForCheque = read('..\/..\/business-services\/requestPayload\/collection-services\/createPaymentWithCheque.json')","result":{"duration":8031729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":27},{"name":"def eChallanPaymentcount = read('..\/..\/business-services\/requestPayload\/collection-services\/echallancount.json')","result":{"duration":1637624,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":2184441,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":29},{"name":"def invalidBillId = 'invalid_'+randomNumber(4)","result":{"duration":1999906,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"def invalidBusinessId = 'PT'+randomNumber(4)","result":{"duration":1014757,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":31},{"name":"def invalidPaymentMode = randomString(4)","result":{"duration":924684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"def invalidTenantId = randomString(5)","result":{"duration":921168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":33},{"name":"def negativeTotalAmount = '-'+randomNumber(4)","result":{"duration":955567,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"url payment","result":{"duration":3255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":41},{"name":"request createPaymentRequest","result":{"duration":2188,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":42},{"name":"method post","result":{"duration":410720638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":44},{"name":"status 200","result":{"duration":2560,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":45},{"name":"def collectionServicesResponseHeader = responseHeaders","result":{"duration":7008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":46},{"name":"def collectionServicesResponseBody = response","result":{"duration":2134,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":47},{"name":"def Payments = collectionServicesResponseBody.Payments","result":{"duration":1457064,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":48},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceUpdate.feature@updatePgTransactionError')","result":{"duration":331185780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":132},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceUpdate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":132},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":9726092,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def pgServicesUpdatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesUpdate.json')","result":{"duration":2285142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionError')","result":{"duration":173778759,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":51},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":51},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":1376454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1824598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":11142605,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"url pgServices","result":{"duration":5869,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":21},{"name":"request pgServicesCreatePayload","result":{"duration":3697,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":22},{"name":"method post","result":{"duration":155196230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":23},{"name":"status 400","result":{"duration":2463,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":24},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":6957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":2128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":26},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":586885,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def pgServicesUpdateParam =","result":{"duration":1627152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":53,"doc_string":{"content_type":"","value":"{\n transactionId: '#(txnId)'\n}","line":53}},{"name":"url pgServicesUpdate","result":{"duration":4314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":59},{"name":"params pgServicesUpdateParam","result":{"duration":27098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":61},{"name":"request pgServicesUpdatePayload","result":{"duration":3175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":63},{"name":"method post","result":{"duration":133334190,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":65},{"name":"status 400","result":{"duration":2525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":66},{"name":"def pgServicesUpdateResponseHeader = responseHeaders","result":{"duration":6662,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":67},{"name":"def pgServicesUpdateResponseBody = response","result":{"duration":2470,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":68}],"tags":[{"name":"@PGUpdate_BillVal_05","line":128},{"name":"@coreServices","line":128},{"name":"@regression","line":128},{"name":"@negative","line":128},{"name":"@pgservices","line":128}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":242989850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1730688,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:45.941 karate.env:  \n15:40:45.941 locale: en_IN \n15:40:45.941 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2077773,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":2091296,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":2657882,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":1155862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":1307804,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":2211111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":836634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":3162106,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1632003,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":5046175,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":843716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":611123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":554631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":174902857,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1757254,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":1225332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1285630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":11812510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":2432243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":8275833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":470562,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":3159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":133178086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2720,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":6683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":259790,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:46.175 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590245992,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763045996,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"f141b6f4-a4f1-48a2-a74a-5bfa94a1ba35\",\n          \"taxHeadMasterCode\": \"PT_DECIMAL_CEILING_DEBIT\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590246379,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590246379\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"335b66fd-ce58-4cff-b322-3d5968809098\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590246379,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590246379\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-301884\",\n      \"id\": \"f141b6f4-a4f1-48a2-a74a-5bfa94a1ba35\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1471700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1515493,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1419259,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1490105,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":1733683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":47262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":25411,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":22496,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":58154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":30986,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":1682143,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":128212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":68819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":19009,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":21626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":15281,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":14013,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1250182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1334626,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":199616678,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":3479080,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":2287173,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1270770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":1201067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1197154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":2176703,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1183550,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1683292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2571621,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":5582959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":1892006,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":388643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":3934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":18922,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2389,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":164023393,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2640,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":6213,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1776362,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1579132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":3483,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":968,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":1052,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":1020197,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":2382652,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":2949099,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1789338,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2362853,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1206887,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":2406851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":1072618,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":6435474,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":136,"name":"Verify searching transaction details using txn id","description":"","id":"verify-searching-transaction-details-using-txn-id","type":"scenario","keyword":"Scenario","steps":[{"name":"call read('..\/..\/core-services\/pretests\/pgServiceUpdate.feature@searchPgTransactionSuccessfully')","result":{"duration":4795809,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":138},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceUpdate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":138}],"tags":[{"name":"@PGSearch_Txn_01","line":135},{"name":"@coreServices","line":135},{"name":"@regression","line":135},{"name":"@negative","line":135},{"name":"@pgservices","line":135}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":333109970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2143905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:46.478 karate.env:  \n15:40:46.478 locale: en_IN \n15:40:46.478 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":3600552,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1742067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":1917431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":3437378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":2014163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":1072905,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":655816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":1174181,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1441417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":1517454,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":929763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":833452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":772318,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":183839980,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2453808,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":1062344,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1133499,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":7913382,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":1705168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":10593773,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":2684184,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":4533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2888,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":141832815,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2670,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":6442,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":252912,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:46.799 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590246612,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763046613,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"c37a1452-56d1-4c40-8917-f117ae9f37ed\",\n          \"taxHeadMasterCode\": \"PT_DECIMAL_CEILING_CREDIT\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590246996,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590246996\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"aa451b16-5c91-4452-a792-784d037a69eb\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590246996,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590246996\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-407319\",\n      \"id\": \"c37a1452-56d1-4c40-8917-f117ae9f37ed\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1509538,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1186842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1422613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":2950530,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":3549628,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":35981,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":16780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":13402,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":12204,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":22525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":2150379,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":173633,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":111770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":36814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":30877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":18205,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":14354,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1368636,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2089038,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":189934426,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":3524014,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":2732627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1403894,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":5387742,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1376326,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1333851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1330126,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1325156,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":8523673,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":3760613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":335276,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":207561,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":2683,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":14291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":1915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":147636002,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":7097,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1607275,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1106314,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":4123,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":1185,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":1054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":1166529,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1316090,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":1528293,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":1919816,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":2875852,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":1188875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1929268,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":1044163,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":6323298,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":142,"name":"Verify searching transaction details using null\/ invalid\/non existent  value for \"transaction id\"","description":"","id":"verify-searching-transaction-details-using-null\/-invalid\/non-existent--value-for-\"transaction-id\"","type":"scenario","keyword":"Scenario","steps":[{"name":"def txnId = commonConstants.invalidParameters.passValusAsNull","result":{"duration":823589,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":143},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceSearch.feature@searchPgTransactionSuccessfully')","result":{"duration":684224026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":145},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceSearch.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":145},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1861928,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionSuccessfully')","result":{"duration":511320183,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":5},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":2973747,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1928382,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":1198417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"url pgServices","result":{"duration":2828,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":10},{"name":"request pgServicesCreatePayload","result":{"duration":1676,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":11},{"name":"method post","result":{"duration":499478208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":12},{"name":"status 200","result":{"duration":2488,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":13},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":7137,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":14},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":2340,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":15},{"name":"def txnId = pgServicesCreateResponseBody.Transaction.txnId","result":{"duration":1568786,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":16},{"name":"def pgServicesSearchPayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesSearch.json')","result":{"duration":2367098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":238068,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def pgServicesSearchParam =","result":{"duration":964859,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11,"doc_string":{"content_type":"","value":"{\n txnId: '#(txnId)'\n}","line":11}},{"name":"url pgServicesSearch","result":{"duration":3315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":17},{"name":"params pgServicesSearchParam","result":{"duration":19421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"request pgServicesSearchPayload","result":{"duration":2098,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":20},{"name":"method post","result":{"duration":163578661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":22},{"name":"status 200","result":{"duration":2257,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":23},{"name":"def pgServicesSearchResponseHeader = responseHeaders","result":{"duration":6677,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":24},{"name":"def pgServicesSearchResponseBody = response","result":{"duration":2170,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25}],"tags":[{"name":"@PGSearch_InvalidTxn_02","line":141},{"name":"@coreServices","line":141},{"name":"@regression","line":141},{"name":"@negative","line":141},{"name":"@pgservices","line":141}]},{"line":2,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":257294991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1887172,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4,"doc_string":{"content_type":"","value":"15:40:47.779 karate.env:  \n15:40:47.780 locale: en_IN \n15:40:47.781 tenantId: pb.amritsar","line":4}},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2124483,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1073675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":2112037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":2624533,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":1665797,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":1141944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":703480,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":1290573,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1454944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":1380018,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":696401,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":608028,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":581934,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":185274951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2787954,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2786602,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1229452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":11311767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":1593877,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":8337540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":337387,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":3041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":2380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":144071501,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":2475,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":6545,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":2122,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":263675,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:48.020 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590247833,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763047835,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"1a9cf038-bb2f-4387-9b1f-f1d9b7144933\",\n          \"taxHeadMasterCode\": \"PT_ADVANCE_CARRYFORWARD\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590248218,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590248218\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"947915fd-e0cf-4ce8-877f-b06a2af8d4d4\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590248218,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590248218\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-408409\",\n      \"id\": \"1a9cf038-bb2f-4387-9b1f-f1d9b7144933\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":1527063,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1460201,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1700029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1507333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":3002004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":36093,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":17029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":13763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":12331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":20376,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":1241322,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":6318582,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":107667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":18315,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":19547,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":66521,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":32146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":4347818,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1498862,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":214744209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":6},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":3636189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":2548643,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1453145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":2158708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1369510,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1024235,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":2977168,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":2378540,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2214974,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":4342428,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":501121,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":351509,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":4701,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":22331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2598,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":172970919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":1630,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":4358,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1164957,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1302813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":4971,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":1061,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":937,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"def txnAmount = fetchBillResponse.Bill[0].totalAmount","result":{"duration":1651751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def name = 'User ' + randomString(10)","result":{"duration":1681429,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"def mobileNumber = '78' + randomMobileNumGen(8)","result":{"duration":2063296,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"def pgSericesConstant = read('..\/..\/core-services\/constants\/pgServices.yaml')","result":{"duration":3004634,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"def envCommon = read('file:envYaml\/common\/common.yaml')","result":{"duration":3170716,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"def callbackUrl = envHost + envCommon.endPoints.pgServices.payload","result":{"duration":2271243,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":2142323,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def gateway = commonConstants.parameters.gateway","result":{"duration":1143584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":7785451,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"line":151,"name":"Verfiy searching transaction details using multiple txn id's","description":"","id":"verfiy-searching-transaction-details-using-multiple-txn-id's","type":"scenario","keyword":"Scenario","steps":[{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionSuccessfully')","result":{"duration":511761189,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":152},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":152},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":1785867,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1706881,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":1687601,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url pgServices","result":{"duration":4610,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":10},{"name":"request pgServicesCreatePayload","result":{"duration":15292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"method post","result":{"duration":501295255,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":12},{"name":"status 200","result":{"duration":2842,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":13},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":6960,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":14},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":2000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":15},{"name":"def txnId = pgServicesCreateResponseBody.Transaction.txnId","result":{"duration":1435520,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":16},{"name":"def transactionIdFirst = txnId","result":{"duration":4056,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":153},{"name":"call read('..\/..\/business-services\/tests\/billingServicesDemand.feature@create_01')","result":{"duration":282675102,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":154},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/tests\/billingServicesDemand.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":154},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1796392,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":2615781,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1470074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def consumerCode = 'Consumer-Code-Test-' + ranInteger(6)","result":{"duration":2309827,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def consumerType = mdmsStateBillingService.BusinessService[0].businessService","result":{"duration":2310431,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def businessService = mdmsStateBillingService.BusinessService[0].code","result":{"duration":2676970,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def taxPeriodFrom = getCurrentEpochTime()","result":{"duration":2366476,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def daysFromToday = 2","result":{"duration":815151,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def taxPeriodTo = getEpochDate(daysFromToday)","result":{"duration":1523726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":12},{"name":"def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, \"$.TaxHeadMaster[?(@.service=='\" + businessService + \"')].code\")","result":{"duration":1809015,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)]","result":{"duration":2424639,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"def taxAmount = 200","result":{"duration":997553,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def collectionAmount = 0","result":{"duration":923092,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16},{"name":"def minimumAmountPayable = 1","result":{"duration":2464876,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17},{"name":"call read('..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature@createBillDemand')","result":{"duration":216458008,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServiceDemandPretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":22},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2643410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def billingServiceDemandConstants = read('..\/..\/business-services\/constants\/billing-service-demand.yaml')","result":{"duration":1249129,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def commonConstants = read('..\/..\/common-services\/constants\/genericConstants.yaml')","result":{"duration":1223737,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"def createDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/create.json')","result":{"duration":9182020,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"def searchDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/search.json')","result":{"duration":2165449,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"def updateDemandRequest = read('..\/..\/business-services\/requestPayload\/billing-service-demand\/update.json')","result":{"duration":13727729,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":2639951,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":11},{"name":"url createDemandUrl","result":{"duration":4132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":15},{"name":"request createDemandRequest","result":{"duration":3111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":17},{"name":"method post","result":{"duration":164893068,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":18},{"name":"status 201","result":{"duration":1587,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":19},{"name":"def billingServiceDemandResponseHeader = responseHeaders","result":{"duration":4944,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":20},{"name":"def billingServiceDemandResponseBody = response","result":{"duration":1613,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":21},{"name":"print billingServiceDemandResponseBody","result":{"duration":204949,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22,"doc_string":{"content_type":"","value":"15:40:49.059 [print] {\n  \"ResponseInfo\": {\n    \"ver\": null,\n    \"resMsgId\": null,\n    \"msgId\": null,\n    \"apiId\": null,\n    \"ts\": null,\n    \"status\": \"201 CREATED\"\n  },\n  \"Demands\": [\n    {\n      \"taxPeriodFrom\": 1628590248839,\n      \"businessService\": \"PT\",\n      \"minimumAmountPayable\": 1,\n      \"taxPeriodTo\": 1628763048842,\n      \"fixedBillExpiryDate\": null,\n      \"additionalDetails\": null,\n      \"payer\": null,\n      \"demandDetails\": [\n        {\n          \"demandId\": \"b4be3548-9b6d-4113-90b2-92c1310896a3\",\n          \"taxHeadMasterCode\": \"PT_TIME_REBATE\",\n          \"collectionAmount\": 0,\n          \"auditDetails\": {\n            \"lastModifiedTime\": 1628590249258,\n            \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n            \"createdTime\": 1628590249258\n          },\n          \"tenantId\": \"pb.amritsar\",\n          \"id\": \"211cd1e3-ac8f-4ef4-90e2-a9a998031208\",\n          \"taxAmount\": 200,\n          \"additionalDetails\": null\n        }\n      ],\n      \"consumerType\": \"PropertyTax\",\n      \"auditDetails\": {\n        \"lastModifiedTime\": 1628590249258,\n        \"createdBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"lastModifiedBy\": \"959745fe-66bc-45b2-9a35-609ec994abd4\",\n        \"createdTime\": 1628590249258\n      },\n      \"tenantId\": \"pb.amritsar\",\n      \"consumerCode\": \"Consumer-Code-Test-65696\",\n      \"id\": \"b4be3548-9b6d-4113-90b2-92c1310896a3\",\n      \"billExpiryTime\": null,\n      \"isPaymentCompleted\": false,\n      \"status\": \"ACTIVE\"\n    }\n  ],\n  \"CollectedReceipt\": null\n}","line":22}},{"name":"def Demands = billingServiceDemandResponseBody.Demands","result":{"duration":4904791,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":23},{"name":"def demandId = Demands[0].id","result":{"duration":1542218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":24},{"name":"def consumerCode = Demands[0].consumerCode","result":{"duration":1632339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":25},{"name":"assert billingServiceDemandResponseBody.ResponseInfo.status == commonConstants.expectedStatus.created","result":{"duration":1758349,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":24},{"name":"match billingServiceDemandResponseBody.Demands[0].id == \"#present\"","result":{"duration":1477751,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"name":"match billingServiceDemandResponseBody.Demands[0].tenantId == tenantId","result":{"duration":50961,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":28},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerCode == consumerCode","result":{"duration":26589,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":30},{"name":"match billingServiceDemandResponseBody.Demands[0].consumerType == consumerType","result":{"duration":22576,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":32},{"name":"match billingServiceDemandResponseBody.Demands[0].businessService == businessService","result":{"duration":20704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":34},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodFrom == taxPeriodFrom","result":{"duration":39265,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":36},{"name":"match billingServiceDemandResponseBody.Demands[0].taxPeriodTo == taxPeriodTo","result":{"duration":3030638,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":38},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].id == \"#present\"","result":{"duration":139132,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].demandId == \"#present\"","result":{"duration":87037,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":42},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxHeadMasterCode == taxHeadMasterCode","result":{"duration":26334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":44},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].taxAmount == taxAmount","result":{"duration":64154,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":46},{"name":"match billingServiceDemandResponseBody.Demands[0].demandDetails[0].collectionAmount == collectionAmount","result":{"duration":21607,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":48},{"name":"match billingServiceDemandResponseBody.Demands[0].minimumAmountPayable == minimumAmountPayable","result":{"duration":17221,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":50},{"name":"match billingServiceDemandResponseBody.Demands[0].status == billingServiceDemandConstants.parameters.status","result":{"duration":1609534,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":52},{"name":"call read('..\/..\/business-services\/pretest\/billingServicePretest.feature@fetchBill')","result":{"duration":207733823,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":155},{"name":"com\/egov\/core-services\/tests\/..\/..\/business-services\/pretest\/billingServicePretest.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":155},{"name":"def billingServiceConstants = read('..\/..\/business-services\/constants\/billing-service.yaml')","result":{"duration":2613040,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def apportionServiceConstants = read('..\/..\/business-services\/constants\/apportionService.yaml')","result":{"duration":2986850,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def businessService = billingServiceConstants.parameters.businessService","result":{"duration":1524165,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def apportionbusinessService = apportionServiceConstants.parameters.businessService","result":{"duration":8872074,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def cancelBillReason1 = apportionServiceConstants.parameters.reason1","result":{"duration":1553825,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def cancelBillReason2 = apportionServiceConstants.parameters.reason2","result":{"duration":1445593,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"def cancelBillReason3 = apportionServiceConstants.parameters.reason3","result":{"duration":1326972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def cancelBillReason4 = apportionServiceConstants.parameters.reason4","result":{"duration":1281508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def fetchBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/fetchBill.json')","result":{"duration":2245496,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def cancelBillRequest = read('..\/..\/business-services\/requestPayload\/collection-services\/cancelBill.json')","result":{"duration":6611395,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":339452,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":15},{"name":"def fetchBillParams =","result":{"duration":223026,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19,"doc_string":{"content_type":"","value":"{\n   consumerCode: '#(consumerCode)',\n   businessService: '#(businessService)',\n   tenantId: '#(tenantId)'\n}","line":19}},{"name":"url fetchBill","result":{"duration":3029,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":27},{"name":"params fetchBillParams","result":{"duration":15812,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"request fetchBillRequest","result":{"duration":2313,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"method post","result":{"duration":157551525,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":31},{"name":"status 201","result":{"duration":2146,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":33},{"name":"def fetchBillResponse = response","result":{"duration":7054,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":34},{"name":"def totalAmount = response.Bill[0].totalAmount","result":{"duration":1849067,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":35},{"name":"def billId = response.Bill[0].id","result":{"duration":1821328,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"def txnAmount = totalAmount","result":{"duration":10230,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":37},{"name":"def totalAmountPaid = totalAmount","result":{"duration":3353,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":38},{"name":"def totalDue = totalAmount","result":{"duration":2555,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":39},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionSuccessfully')","result":{"duration":377022835,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":156},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":156},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":1830359,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":13067453,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":8237623,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"url pgServices","result":{"duration":4494,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":10},{"name":"request pgServicesCreatePayload","result":{"duration":2432,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"method post","result":{"duration":345736980,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":12},{"name":"status 200","result":{"duration":2637,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":13},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":7663,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":14},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":2433,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":15},{"name":"def txnId = pgServicesCreateResponseBody.Transaction.txnId","result":{"duration":1874273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":16},{"name":"def transactionIdSecond = txnId","result":{"duration":4527,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":157},{"name":"eval multipleTransactionIds = transactionIdFirst + ',' + transactionIdSecond","result":{"duration":2253874,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":158},{"name":"eval txnId = multipleTransactionIds","result":{"duration":1760493,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":159},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceSearch.feature@searchPgTransactionSuccessfully')","result":{"duration":152269040,"error_message":"com.intuit.karate.exception.KarateException: pgServices.feature:160 - \n-unknown-:5 - \npgServiceCreate.feature:13 - status code was: 400, expected: 200, response time: 135, url: https:\/\/qa.digit.org\/pg-service\/transaction\/v1\/_create?, response: {\"ResponseInfo\":null,\"Errors\":[{\"code\":\"TXN_ABRUPTLY_DISCARDED\",\"description\":\"\",\"message\":\"A transaction for this bill has been abruptly discarded, please retry after 30 mins\",\"params\":null}]}","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":160,"doc_string":{"content_type":"","value":"15:40:49.819 feature call failed: classpath:com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceSearch.feature\narg: null\n-unknown-:5 - \npgServiceCreate.feature:13 - status code was: 400, expected: 200, response time: 135, url: https:\/\/qa.digit.org\/pg-service\/transaction\/v1\/_create?, response: {\"ResponseInfo\":null,\"Errors\":[{\"code\":\"TXN_ABRUPTLY_DISCARDED\",\"description\":\"\",\"message\":\"A transaction for this bill has been abruptly discarded, please retry after 30 mins\",\"params\":null}]}","line":160}},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceSearch.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":160},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":2104153,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":4},{"name":"call read('..\/..\/core-services\/pretests\/pgServiceCreate.feature@createPgTransactionSuccessfully')","result":{"duration":145109006,"error_message":"com.intuit.karate.exception.KarateException: -unknown-:5 - \npgServiceCreate.feature:13 - status code was: 400, expected: 200, response time: 135, url: https:\/\/qa.digit.org\/pg-service\/transaction\/v1\/_create?, response: {\"ResponseInfo\":null,\"Errors\":[{\"code\":\"TXN_ABRUPTLY_DISCARDED\",\"description\":\"\",\"message\":\"A transaction for this bill has been abruptly discarded, please retry after 30 mins\",\"params\":null}]}","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5,"doc_string":{"content_type":"","value":"15:40:49.819 feature call failed: classpath:com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature\narg: null\npgServiceCreate.feature:13 - status code was: 400, expected: 200, response time: 135, url: https:\/\/qa.digit.org\/pg-service\/transaction\/v1\/_create?, response: {\"ResponseInfo\":null,\"Errors\":[{\"code\":\"TXN_ABRUPTLY_DISCARDED\",\"description\":\"\",\"message\":\"A transaction for this bill has been abruptly discarded, please retry after 30 mins\",\"params\":null}]}","line":5}},{"name":"com\/egov\/core-services\/tests\/..\/..\/core-services\/pretests\/pgServiceCreate.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":5},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":1033551,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":4},{"name":"def jsUtils = read('classpath:com\/egov\/utils\/jsUtils.js')","result":{"duration":1283867,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5},{"name":"def pgServicesCreatePayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesCreate.json')","result":{"duration":1365218,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"url pgServices","result":{"duration":4150,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":10},{"name":"request pgServicesCreatePayload","result":{"duration":2212,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":11},{"name":"method post","result":{"duration":137224919,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":12},{"name":"status 200","result":{"duration":161680,"error_message":"com.intuit.karate.exception.KarateException: pgServiceCreate.feature:13 - status code was: 400, expected: 200, response time: 135, url: https:\/\/qa.digit.org\/pg-service\/transaction\/v1\/_create?, response: {\"ResponseInfo\":null,\"Errors\":[{\"code\":\"TXN_ABRUPTLY_DISCARDED\",\"description\":\"\",\"message\":\"A transaction for this bill has been abruptly discarded, please retry after 30 mins\",\"params\":null}]}","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":13,"doc_string":{"content_type":"","value":"15:40:49.819 status code was: 400, expected: 200, response time: 135, url: https:\/\/qa.digit.org\/pg-service\/transaction\/v1\/_create?, response: {\"ResponseInfo\":null,\"Errors\":[{\"code\":\"TXN_ABRUPTLY_DISCARDED\",\"description\":\"\",\"message\":\"A transaction for this bill has been abruptly discarded, please retry after 30 mins\",\"params\":null}]}","line":13}},{"name":"def pgServicesCreateResponseHeader = responseHeaders","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":14},{"name":"def pgServicesCreateResponseBody = response","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":15},{"name":"def txnId = pgServicesCreateResponseBody.Transaction.txnId","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":16},{"name":"def pgServicesSearchPayload = read('..\/..\/core-services\/requestPayload\/pg-service\/pgServicesSearch.json')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"configure headers = read('classpath:com\/egov\/utils\/websCommonHeaders.js')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def pgServicesSearchParam =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11,"doc_string":{"content_type":"","value":"{\n txnId: '#(txnId)'\n}","line":11}},{"name":"url pgServicesSearch","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":17},{"name":"params pgServicesSearchParam","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"request pgServicesSearchPayload","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":20},{"name":"method post","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":22},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":23},{"name":"def pgServicesSearchResponseHeader = responseHeaders","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":24},{"name":"def pgServicesSearchResponseBody = response","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":25}],"tags":[{"name":"@PGSearch_MultipleTxn_03","line":150},{"name":"@coreServices","line":150},{"name":"@regression","line":150},{"name":"@negative","line":150},{"name":"@pgservices","line":150}]}],"name":"com\/egov\/core-services\/tests\/pgServices.feature","description":"Pg services","id":"pg-services","keyword":"Feature","uri":"com\/egov\/core-services\/tests\/pgServices.feature"}]