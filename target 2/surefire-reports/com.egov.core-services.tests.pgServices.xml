<testsuite failures="2"
           name="com/egov/core-services/tests/pgServices.feature"
           skipped="0"
           tests="16"
           time="15.587717">
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify creating a payment transaction"
             time="1.107365">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify creating a payment transaction with invalid/non existent or null value for &#34;TxnAmt&#34; in the request body and check for erros"
             time="0.684466">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify creating a payment transaction with invalid/non existent value for &#34;tenatid&#34; in the request body and check for errors"
             time="0.62926">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify creating a payment transaction with invalid/non existent value for &#34;gateway&#34; in the request body and check for errors"
             time="0.640299">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify creating a payment transaction by passing a txn amount which is not equal to the amount paid"
             time="0.772622">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify creating a payment transaction by passing a bill id which is expired"
             time="1.384648">
      <failure message="pgServices.feature:84 - &#xA;pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {&#34;ResponseInfo&#34;:{&#34;ver&#34;:null,&#34;resMsgId&#34;:&#34;uief87324&#34;,&#34;msgId&#34;:null,&#34;apiId&#34;:null,&#34;ts&#34;:null,&#34;status&#34;:&#34;SUCCESSFUL&#34;},&#34;Transaction&#34;:{&#34;redirectUrl&#34;:&#34;https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256&#34;,&#34;gatewayTxnId&#34;:null,&#34;gatewayPaymentMode&#34;:null,&#34;module&#34;:&#34;PT&#34;,&#34;gatewayStatusMsg&#34;:null,&#34;txnStatusMsg&#34;:&#34;Transaction initiated&#34;,&#34;additionalDetails&#34;:{&#34;taxAndPayments&#34;:[{&#34;amountPaid&#34;:200.0,&#34;billId&#34;:&#34;1a33b53f-4220-44fc-ab40-7e38ea928320&#34;,&#34;taxAmount&#34;:null}]},&#34;productInfo&#34;:&#34;Common Payment&#34;,&#34;gatewayStatusCode&#34;:null,&#34;taxAndPayments&#34;:[{&#34;amountPaid&#34;:200.0,&#34;billId&#34;:&#34;1a33b53f-4220-44fc-ab40-7e38ea928320&#34;,&#34;taxAmount&#34;:null}],&#34;txnStatus&#34;:&#34;PENDING&#34;,&#34;billId&#34;:&#34;1a33b53f-4220-44fc-ab40-7e38ea928320&#34;,&#34;auditDetails&#34;:{&#34;lastModifiedTime&#34;:null,&#34;createdBy&#34;:&#34;959745fe-66bc-45b2-9a35-609ec994abd4&#34;,&#34;lastModifiedBy&#34;:null,&#34;createdTime&#34;:1628590238794},&#34;tenantId&#34;:&#34;pb.amritsar&#34;,&#34;consumerCode&#34;:&#34;PT-Test-121173&#34;,&#34;callbackUrl&#34;:&#34;https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14&#34;,&#34;receipt&#34;:null,&#34;user&#34;:{&#34;mobileNumber&#34;:&#34;7861259013&#34;,&#34;name&#34;:&#34;User nreRzoBWqS&#34;,&#34;tenantId&#34;:&#34;pb&#34;,&#34;emailId&#34;:null,&#34;userName&#34;:&#34;User nreRzoBWqS&#34;,&#34;uuid&#34;:&#34;1e4b5538-240f-419b-b66a-cf43aab918c4&#34;},&#34;txnAmount&#34;:&#34;200.0&#34;,&#34;gateway&#34;:&#34;AXIS&#34;,&#34;txnId&#34;:&#34;PB_PG_2021_08_10_006522_14&#34;}}">* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def consumerCode = 'PT-Test-' + ranInteger(6) ........................... passed
* def consumerType = mdmsStateBillingService.BusinessService[0].businessService . passed
* def businessService = mdmsStateBillingService.BusinessService[0].code ... passed
* def taxPeriodFrom = getPastEpochDate(2) ................................. passed
* def taxPeriodTo = getPastEpochDate(1) ................................... passed
* def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, "$.TaxHeadMaster[?(@.service=='" + businessService + "')].code") . passed
* def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)] . passed
* def taxAmount = 200 ..................................................... passed
* def collectionAmount = 0 ................................................ passed
* def minimumAmountPayable = 1 ............................................ passed
* call read('../../business-services/pretest/billingServiceDemandPretest.feature@createBillDemand') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:84 - 
pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":{"ver":null,"resMsgId":"uief87324","msgId":null,"apiId":null,"ts":null,"status":"SUCCESSFUL"},"Transaction":{"redirectUrl":"https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256","gatewayTxnId":null,"gatewayPaymentMode":null,"module":"PT","gatewayStatusMsg":null,"txnStatusMsg":"Transaction initiated","additionalDetails":{"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}]},"productInfo":"Common Payment","gatewayStatusCode":null,"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}],"txnStatus":"PENDING","billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","auditDetails":{"lastModifiedTime":null,"createdBy":"959745fe-66bc-45b2-9a35-609ec994abd4","lastModifiedBy":null,"createdTime":1628590238794},"tenantId":"pb.amritsar","consumerCode":"PT-Test-121173","callbackUrl":"https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14","receipt":null,"user":{"mobileNumber":"7861259013","name":"User nreRzoBWqS","tenantId":"pb","emailId":null,"userName":"User nreRzoBWqS","uuid":"1e4b5538-240f-419b-b66a-cf43aab918c4"},"txnAmount":"200.0","gateway":"AXIS","txnId":"PB_PG_2021_08_10_006522_14"}}
	at ✽.* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') (pgServices.feature:84)</failure>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify creating a payment transaction by passing a amount which is greater than amount due"
             time="0.619974">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def consumerCode = 'PT-Test-' + ranInteger(6) ........................... passed
* def consumerType = mdmsStateBillingService.BusinessService[0].businessService . passed
* def businessService = mdmsStateBillingService.BusinessService[0].code ... passed
* def taxPeriodFrom = getPastEpochDate(2) ................................. passed
* def taxPeriodTo = getPastEpochDate(1) ................................... passed
* def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, "$.TaxHeadMaster[?(@.service=='" + businessService + "')].code") . passed
* def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)] . passed
* def taxAmount = 200 ..................................................... passed
* def collectionAmount = 0 ................................................ passed
* def minimumAmountPayable = 1 ............................................ passed
* call read('../../business-services/pretest/billingServiceDemandPretest.feature@createBillDemand') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:84 - 
pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":{"ver":null,"resMsgId":"uief87324","msgId":null,"apiId":null,"ts":null,"status":"SUCCESSFUL"},"Transaction":{"redirectUrl":"https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256","gatewayTxnId":null,"gatewayPaymentMode":null,"module":"PT","gatewayStatusMsg":null,"txnStatusMsg":"Transaction initiated","additionalDetails":{"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}]},"productInfo":"Common Payment","gatewayStatusCode":null,"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}],"txnStatus":"PENDING","billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","auditDetails":{"lastModifiedTime":null,"createdBy":"959745fe-66bc-45b2-9a35-609ec994abd4","lastModifiedBy":null,"createdTime":1628590238794},"tenantId":"pb.amritsar","consumerCode":"PT-Test-121173","callbackUrl":"https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14","receipt":null,"user":{"mobileNumber":"7861259013","name":"User nreRzoBWqS","tenantId":"pb","emailId":null,"userName":"User nreRzoBWqS","uuid":"1e4b5538-240f-419b-b66a-cf43aab918c4"},"txnAmount":"200.0","gateway":"AXIS","txnId":"PB_PG_2021_08_10_006522_14"}}
	at ✽.* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') (pgServices.feature:84)

* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+'0' ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify creating a payment transaction with invalid/non existent value for &#34;bill id&#34; in the request body and check for errors"
             time="0.804355">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def consumerCode = 'PT-Test-' + ranInteger(6) ........................... passed
* def consumerType = mdmsStateBillingService.BusinessService[0].businessService . passed
* def businessService = mdmsStateBillingService.BusinessService[0].code ... passed
* def taxPeriodFrom = getPastEpochDate(2) ................................. passed
* def taxPeriodTo = getPastEpochDate(1) ................................... passed
* def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, "$.TaxHeadMaster[?(@.service=='" + businessService + "')].code") . passed
* def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)] . passed
* def taxAmount = 200 ..................................................... passed
* def collectionAmount = 0 ................................................ passed
* def minimumAmountPayable = 1 ............................................ passed
* call read('../../business-services/pretest/billingServiceDemandPretest.feature@createBillDemand') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:84 - 
pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":{"ver":null,"resMsgId":"uief87324","msgId":null,"apiId":null,"ts":null,"status":"SUCCESSFUL"},"Transaction":{"redirectUrl":"https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256","gatewayTxnId":null,"gatewayPaymentMode":null,"module":"PT","gatewayStatusMsg":null,"txnStatusMsg":"Transaction initiated","additionalDetails":{"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}]},"productInfo":"Common Payment","gatewayStatusCode":null,"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}],"txnStatus":"PENDING","billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","auditDetails":{"lastModifiedTime":null,"createdBy":"959745fe-66bc-45b2-9a35-609ec994abd4","lastModifiedBy":null,"createdTime":1628590238794},"tenantId":"pb.amritsar","consumerCode":"PT-Test-121173","callbackUrl":"https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14","receipt":null,"user":{"mobileNumber":"7861259013","name":"User nreRzoBWqS","tenantId":"pb","emailId":null,"userName":"User nreRzoBWqS","uuid":"1e4b5538-240f-419b-b66a-cf43aab918c4"},"txnAmount":"200.0","gateway":"AXIS","txnId":"PB_PG_2021_08_10_006522_14"}}
	at ✽.* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') (pgServices.feature:84)

* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+'0' ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def billId = commonConstants.invalidParameters.invalidValue ............. passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify creating a payment transaction with a bill id for which payment is already done"
             time="1.062496">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def consumerCode = 'PT-Test-' + ranInteger(6) ........................... passed
* def consumerType = mdmsStateBillingService.BusinessService[0].businessService . passed
* def businessService = mdmsStateBillingService.BusinessService[0].code ... passed
* def taxPeriodFrom = getPastEpochDate(2) ................................. passed
* def taxPeriodTo = getPastEpochDate(1) ................................... passed
* def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, "$.TaxHeadMaster[?(@.service=='" + businessService + "')].code") . passed
* def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)] . passed
* def taxAmount = 200 ..................................................... passed
* def collectionAmount = 0 ................................................ passed
* def minimumAmountPayable = 1 ............................................ passed
* call read('../../business-services/pretest/billingServiceDemandPretest.feature@createBillDemand') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:84 - 
pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":{"ver":null,"resMsgId":"uief87324","msgId":null,"apiId":null,"ts":null,"status":"SUCCESSFUL"},"Transaction":{"redirectUrl":"https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256","gatewayTxnId":null,"gatewayPaymentMode":null,"module":"PT","gatewayStatusMsg":null,"txnStatusMsg":"Transaction initiated","additionalDetails":{"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}]},"productInfo":"Common Payment","gatewayStatusCode":null,"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}],"txnStatus":"PENDING","billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","auditDetails":{"lastModifiedTime":null,"createdBy":"959745fe-66bc-45b2-9a35-609ec994abd4","lastModifiedBy":null,"createdTime":1628590238794},"tenantId":"pb.amritsar","consumerCode":"PT-Test-121173","callbackUrl":"https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14","receipt":null,"user":{"mobileNumber":"7861259013","name":"User nreRzoBWqS","tenantId":"pb","emailId":null,"userName":"User nreRzoBWqS","uuid":"1e4b5538-240f-419b-b66a-cf43aab918c4"},"txnAmount":"200.0","gateway":"AXIS","txnId":"PB_PG_2021_08_10_006522_14"}}
	at ✽.* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') (pgServices.feature:84)

* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+'0' ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def billId = commonConstants.invalidParameters.invalidValue ............. passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Update a payment transaction"
             time="1.596608">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def consumerCode = 'PT-Test-' + ranInteger(6) ........................... passed
* def consumerType = mdmsStateBillingService.BusinessService[0].businessService . passed
* def businessService = mdmsStateBillingService.BusinessService[0].code ... passed
* def taxPeriodFrom = getPastEpochDate(2) ................................. passed
* def taxPeriodTo = getPastEpochDate(1) ................................... passed
* def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, "$.TaxHeadMaster[?(@.service=='" + businessService + "')].code") . passed
* def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)] . passed
* def taxAmount = 200 ..................................................... passed
* def collectionAmount = 0 ................................................ passed
* def minimumAmountPayable = 1 ............................................ passed
* call read('../../business-services/pretest/billingServiceDemandPretest.feature@createBillDemand') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:84 - 
pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":{"ver":null,"resMsgId":"uief87324","msgId":null,"apiId":null,"ts":null,"status":"SUCCESSFUL"},"Transaction":{"redirectUrl":"https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256","gatewayTxnId":null,"gatewayPaymentMode":null,"module":"PT","gatewayStatusMsg":null,"txnStatusMsg":"Transaction initiated","additionalDetails":{"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}]},"productInfo":"Common Payment","gatewayStatusCode":null,"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}],"txnStatus":"PENDING","billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","auditDetails":{"lastModifiedTime":null,"createdBy":"959745fe-66bc-45b2-9a35-609ec994abd4","lastModifiedBy":null,"createdTime":1628590238794},"tenantId":"pb.amritsar","consumerCode":"PT-Test-121173","callbackUrl":"https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14","receipt":null,"user":{"mobileNumber":"7861259013","name":"User nreRzoBWqS","tenantId":"pb","emailId":null,"userName":"User nreRzoBWqS","uuid":"1e4b5538-240f-419b-b66a-cf43aab918c4"},"txnAmount":"200.0","gateway":"AXIS","txnId":"PB_PG_2021_08_10_006522_14"}}
	at ✽.* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') (pgServices.feature:84)

* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+'0' ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def billId = commonConstants.invalidParameters.invalidValue ............. passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@updatePgTransactionSuccessfully') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify updating a payment transaction with invalid/non existent value for &#34;transaction id&#34; in the request body"
             time="0.61218">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def consumerCode = 'PT-Test-' + ranInteger(6) ........................... passed
* def consumerType = mdmsStateBillingService.BusinessService[0].businessService . passed
* def businessService = mdmsStateBillingService.BusinessService[0].code ... passed
* def taxPeriodFrom = getPastEpochDate(2) ................................. passed
* def taxPeriodTo = getPastEpochDate(1) ................................... passed
* def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, "$.TaxHeadMaster[?(@.service=='" + businessService + "')].code") . passed
* def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)] . passed
* def taxAmount = 200 ..................................................... passed
* def collectionAmount = 0 ................................................ passed
* def minimumAmountPayable = 1 ............................................ passed
* call read('../../business-services/pretest/billingServiceDemandPretest.feature@createBillDemand') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:84 - 
pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":{"ver":null,"resMsgId":"uief87324","msgId":null,"apiId":null,"ts":null,"status":"SUCCESSFUL"},"Transaction":{"redirectUrl":"https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256","gatewayTxnId":null,"gatewayPaymentMode":null,"module":"PT","gatewayStatusMsg":null,"txnStatusMsg":"Transaction initiated","additionalDetails":{"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}]},"productInfo":"Common Payment","gatewayStatusCode":null,"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}],"txnStatus":"PENDING","billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","auditDetails":{"lastModifiedTime":null,"createdBy":"959745fe-66bc-45b2-9a35-609ec994abd4","lastModifiedBy":null,"createdTime":1628590238794},"tenantId":"pb.amritsar","consumerCode":"PT-Test-121173","callbackUrl":"https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14","receipt":null,"user":{"mobileNumber":"7861259013","name":"User nreRzoBWqS","tenantId":"pb","emailId":null,"userName":"User nreRzoBWqS","uuid":"1e4b5538-240f-419b-b66a-cf43aab918c4"},"txnAmount":"200.0","gateway":"AXIS","txnId":"PB_PG_2021_08_10_006522_14"}}
	at ✽.* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') (pgServices.feature:84)

* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+'0' ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def billId = commonConstants.invalidParameters.invalidValue ............. passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@updatePgTransactionSuccessfully') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def transactionId = ranString(10) ....................................... passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@invalidTransactionIdError') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify updating a payment transaction by not passing transaction id"
             time="0.626683">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def consumerCode = 'PT-Test-' + ranInteger(6) ........................... passed
* def consumerType = mdmsStateBillingService.BusinessService[0].businessService . passed
* def businessService = mdmsStateBillingService.BusinessService[0].code ... passed
* def taxPeriodFrom = getPastEpochDate(2) ................................. passed
* def taxPeriodTo = getPastEpochDate(1) ................................... passed
* def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, "$.TaxHeadMaster[?(@.service=='" + businessService + "')].code") . passed
* def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)] . passed
* def taxAmount = 200 ..................................................... passed
* def collectionAmount = 0 ................................................ passed
* def minimumAmountPayable = 1 ............................................ passed
* call read('../../business-services/pretest/billingServiceDemandPretest.feature@createBillDemand') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:84 - 
pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":{"ver":null,"resMsgId":"uief87324","msgId":null,"apiId":null,"ts":null,"status":"SUCCESSFUL"},"Transaction":{"redirectUrl":"https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256","gatewayTxnId":null,"gatewayPaymentMode":null,"module":"PT","gatewayStatusMsg":null,"txnStatusMsg":"Transaction initiated","additionalDetails":{"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}]},"productInfo":"Common Payment","gatewayStatusCode":null,"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}],"txnStatus":"PENDING","billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","auditDetails":{"lastModifiedTime":null,"createdBy":"959745fe-66bc-45b2-9a35-609ec994abd4","lastModifiedBy":null,"createdTime":1628590238794},"tenantId":"pb.amritsar","consumerCode":"PT-Test-121173","callbackUrl":"https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14","receipt":null,"user":{"mobileNumber":"7861259013","name":"User nreRzoBWqS","tenantId":"pb","emailId":null,"userName":"User nreRzoBWqS","uuid":"1e4b5538-240f-419b-b66a-cf43aab918c4"},"txnAmount":"200.0","gateway":"AXIS","txnId":"PB_PG_2021_08_10_006522_14"}}
	at ✽.* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') (pgServices.feature:84)

* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+'0' ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def billId = commonConstants.invalidParameters.invalidValue ............. passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@updatePgTransactionSuccessfully') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def transactionId = ranString(10) ....................................... passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@invalidTransactionIdError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@withouttransactionidpgservicefail') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify updating by passing a transaction id which has expired bill and bill which is already paid"
             time="1.312988">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def consumerCode = 'PT-Test-' + ranInteger(6) ........................... passed
* def consumerType = mdmsStateBillingService.BusinessService[0].businessService . passed
* def businessService = mdmsStateBillingService.BusinessService[0].code ... passed
* def taxPeriodFrom = getPastEpochDate(2) ................................. passed
* def taxPeriodTo = getPastEpochDate(1) ................................... passed
* def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, "$.TaxHeadMaster[?(@.service=='" + businessService + "')].code") . passed
* def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)] . passed
* def taxAmount = 200 ..................................................... passed
* def collectionAmount = 0 ................................................ passed
* def minimumAmountPayable = 1 ............................................ passed
* call read('../../business-services/pretest/billingServiceDemandPretest.feature@createBillDemand') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:84 - 
pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":{"ver":null,"resMsgId":"uief87324","msgId":null,"apiId":null,"ts":null,"status":"SUCCESSFUL"},"Transaction":{"redirectUrl":"https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256","gatewayTxnId":null,"gatewayPaymentMode":null,"module":"PT","gatewayStatusMsg":null,"txnStatusMsg":"Transaction initiated","additionalDetails":{"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}]},"productInfo":"Common Payment","gatewayStatusCode":null,"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}],"txnStatus":"PENDING","billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","auditDetails":{"lastModifiedTime":null,"createdBy":"959745fe-66bc-45b2-9a35-609ec994abd4","lastModifiedBy":null,"createdTime":1628590238794},"tenantId":"pb.amritsar","consumerCode":"PT-Test-121173","callbackUrl":"https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14","receipt":null,"user":{"mobileNumber":"7861259013","name":"User nreRzoBWqS","tenantId":"pb","emailId":null,"userName":"User nreRzoBWqS","uuid":"1e4b5538-240f-419b-b66a-cf43aab918c4"},"txnAmount":"200.0","gateway":"AXIS","txnId":"PB_PG_2021_08_10_006522_14"}}
	at ✽.* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') (pgServices.feature:84)

* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+'0' ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def billId = commonConstants.invalidParameters.invalidValue ............. passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@updatePgTransactionSuccessfully') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def transactionId = ranString(10) ....................................... passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@invalidTransactionIdError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@withouttransactionidpgservicefail') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@updatePgTransactionError') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify searching transaction details using txn id"
             time="0.470363">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def consumerCode = 'PT-Test-' + ranInteger(6) ........................... passed
* def consumerType = mdmsStateBillingService.BusinessService[0].businessService . passed
* def businessService = mdmsStateBillingService.BusinessService[0].code ... passed
* def taxPeriodFrom = getPastEpochDate(2) ................................. passed
* def taxPeriodTo = getPastEpochDate(1) ................................... passed
* def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, "$.TaxHeadMaster[?(@.service=='" + businessService + "')].code") . passed
* def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)] . passed
* def taxAmount = 200 ..................................................... passed
* def collectionAmount = 0 ................................................ passed
* def minimumAmountPayable = 1 ............................................ passed
* call read('../../business-services/pretest/billingServiceDemandPretest.feature@createBillDemand') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:84 - 
pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":{"ver":null,"resMsgId":"uief87324","msgId":null,"apiId":null,"ts":null,"status":"SUCCESSFUL"},"Transaction":{"redirectUrl":"https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256","gatewayTxnId":null,"gatewayPaymentMode":null,"module":"PT","gatewayStatusMsg":null,"txnStatusMsg":"Transaction initiated","additionalDetails":{"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}]},"productInfo":"Common Payment","gatewayStatusCode":null,"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}],"txnStatus":"PENDING","billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","auditDetails":{"lastModifiedTime":null,"createdBy":"959745fe-66bc-45b2-9a35-609ec994abd4","lastModifiedBy":null,"createdTime":1628590238794},"tenantId":"pb.amritsar","consumerCode":"PT-Test-121173","callbackUrl":"https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14","receipt":null,"user":{"mobileNumber":"7861259013","name":"User nreRzoBWqS","tenantId":"pb","emailId":null,"userName":"User nreRzoBWqS","uuid":"1e4b5538-240f-419b-b66a-cf43aab918c4"},"txnAmount":"200.0","gateway":"AXIS","txnId":"PB_PG_2021_08_10_006522_14"}}
	at ✽.* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') (pgServices.feature:84)

* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+'0' ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def billId = commonConstants.invalidParameters.invalidValue ............. passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@updatePgTransactionSuccessfully') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def transactionId = ranString(10) ....................................... passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@invalidTransactionIdError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@withouttransactionidpgservicefail') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@updatePgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@searchPgTransactionSuccessfully') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verify searching transaction details using null/ invalid/non existent  value for &#34;transaction id&#34;"
             time="1.229473">
      <system-out>* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def consumerCode = 'PT-Test-' + ranInteger(6) ........................... passed
* def consumerType = mdmsStateBillingService.BusinessService[0].businessService . passed
* def businessService = mdmsStateBillingService.BusinessService[0].code ... passed
* def taxPeriodFrom = getPastEpochDate(2) ................................. passed
* def taxPeriodTo = getPastEpochDate(1) ................................... passed
* def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, "$.TaxHeadMaster[?(@.service=='" + businessService + "')].code") . passed
* def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)] . passed
* def taxAmount = 200 ..................................................... passed
* def collectionAmount = 0 ................................................ passed
* def minimumAmountPayable = 1 ............................................ passed
* call read('../../business-services/pretest/billingServiceDemandPretest.feature@createBillDemand') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:84 - 
pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":{"ver":null,"resMsgId":"uief87324","msgId":null,"apiId":null,"ts":null,"status":"SUCCESSFUL"},"Transaction":{"redirectUrl":"https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256","gatewayTxnId":null,"gatewayPaymentMode":null,"module":"PT","gatewayStatusMsg":null,"txnStatusMsg":"Transaction initiated","additionalDetails":{"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}]},"productInfo":"Common Payment","gatewayStatusCode":null,"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}],"txnStatus":"PENDING","billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","auditDetails":{"lastModifiedTime":null,"createdBy":"959745fe-66bc-45b2-9a35-609ec994abd4","lastModifiedBy":null,"createdTime":1628590238794},"tenantId":"pb.amritsar","consumerCode":"PT-Test-121173","callbackUrl":"https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14","receipt":null,"user":{"mobileNumber":"7861259013","name":"User nreRzoBWqS","tenantId":"pb","emailId":null,"userName":"User nreRzoBWqS","uuid":"1e4b5538-240f-419b-b66a-cf43aab918c4"},"txnAmount":"200.0","gateway":"AXIS","txnId":"PB_PG_2021_08_10_006522_14"}}
	at ✽.* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') (pgServices.feature:84)

* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+'0' ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def billId = commonConstants.invalidParameters.invalidValue ............. passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@updatePgTransactionSuccessfully') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def transactionId = ranString(10) ....................................... passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@invalidTransactionIdError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@withouttransactionidpgservicefail') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@updatePgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@searchPgTransactionSuccessfully') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnId = commonConstants.invalidParameters.passValusAsNull ........... passed
* call read('../../core-services/pretests/pgServiceSearch.feature@searchPgTransactionSuccessfully') . passed</system-out>
   </testcase>
   <testcase classname="com.egov.core-services.tests.pgServices"
             name="Verfiy searching transaction details using multiple txn id's"
             time="2.033937">
      <failure message="pgServices.feature:160 - &#xA;-unknown-:5 - &#xA;pgServiceCreate.feature:13 - status code was: 400, expected: 200, response time: 135, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {&#34;ResponseInfo&#34;:null,&#34;Errors&#34;:[{&#34;code&#34;:&#34;TXN_ABRUPTLY_DISCARDED&#34;,&#34;description&#34;:&#34;&#34;,&#34;message&#34;:&#34;A transaction for this bill has been abruptly discarded, please retry after 30 mins&#34;,&#34;params&#34;:null}]}">* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* match pgServicesCreateResponseBody == '#present' ........................ passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = commonConstants.invalidParameters.invalidValue .......... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* match pgServicesCreateResponseBody.Errors[0].message == pgSericesConstant.errorMessages.jsonException . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def tenantId = commonConstants.invalidParameters.invalidTenantId ........ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def gateway = commonConstants.invalidParameters.invalidValue ............ passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+100 ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def consumerCode = 'PT-Test-' + ranInteger(6) ........................... passed
* def consumerType = mdmsStateBillingService.BusinessService[0].businessService . passed
* def businessService = mdmsStateBillingService.BusinessService[0].code ... passed
* def taxPeriodFrom = getPastEpochDate(2) ................................. passed
* def taxPeriodTo = getPastEpochDate(1) ................................... passed
* def taxHeadMasterCodes = karate.jsonPath(mdmsStateBillingService, "$.TaxHeadMaster[?(@.service=='" + businessService + "')].code") . passed
* def taxHeadMasterCode = taxHeadMasterCodes[randomNumber(taxHeadMasterCodes.length)] . passed
* def taxAmount = 200 ..................................................... passed
* def collectionAmount = 0 ................................................ passed
* def minimumAmountPayable = 1 ............................................ passed
* call read('../../business-services/pretest/billingServiceDemandPretest.feature@createBillDemand') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:84 - 
pgServiceCreate.feature:24 - status code was: 200, expected: 400, response time: 501, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":{"ver":null,"resMsgId":"uief87324","msgId":null,"apiId":null,"ts":null,"status":"SUCCESSFUL"},"Transaction":{"redirectUrl":"https://migs.mastercard.co.in/vpcpay?vpc_AccessCode=B26A7B34&amp;vpc_Amount=20000&amp;vpc_Version=1&amp;vpc_MerchTxnRef=PB_PG_2021_08_10_006522_14&amp;vpc_OrderInfo=91101055559214&amp;vpc_Command=pay&amp;vpc_Currency=INR&amp;vpc_Merchant=TESTLCGOPJTXMIGS&amp;vpc_Locale=en_IN&amp;vpc_ReturnURL=https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid%3DPB_PG_2021_08_10_006522_14&amp;vpc_SecureHash=4C66DF4113F2B54C6EA80E44E17672FAF1895246FE026550C4E5996D4BAB28C7&amp;vpc_SecureHashType=SHA256","gatewayTxnId":null,"gatewayPaymentMode":null,"module":"PT","gatewayStatusMsg":null,"txnStatusMsg":"Transaction initiated","additionalDetails":{"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}]},"productInfo":"Common Payment","gatewayStatusCode":null,"taxAndPayments":[{"amountPaid":200.0,"billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","taxAmount":null}],"txnStatus":"PENDING","billId":"1a33b53f-4220-44fc-ab40-7e38ea928320","auditDetails":{"lastModifiedTime":null,"createdBy":"959745fe-66bc-45b2-9a35-609ec994abd4","lastModifiedBy":null,"createdTime":1628590238794},"tenantId":"pb.amritsar","consumerCode":"PT-Test-121173","callbackUrl":"https://qa.digit.org/citizen/egov-common/paymentRedirectPage?eg_pg_txnid=PB_PG_2021_08_10_006522_14","receipt":null,"user":{"mobileNumber":"7861259013","name":"User nreRzoBWqS","tenantId":"pb","emailId":null,"userName":"User nreRzoBWqS","uuid":"1e4b5538-240f-419b-b66a-cf43aab918c4"},"txnAmount":"200.0","gateway":"AXIS","txnId":"PB_PG_2021_08_10_006522_14"}}
	at ✽.* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') (pgServices.feature:84)

* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnAmount = txnAmount+'0' ........................................... passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def billId = commonConstants.invalidParameters.invalidValue ............. passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@updatePgTransactionSuccessfully') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def transactionId = ranString(10) ....................................... passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@invalidTransactionIdError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@withouttransactionidpgservicefail') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../business-services/pretest/collectionServicesPretest.feature@createPayment') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@updatePgTransactionError') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceUpdate.feature@searchPgTransactionSuccessfully') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* def txnId = commonConstants.invalidParameters.passValusAsNull ........... passed
* call read('../../core-services/pretests/pgServiceSearch.feature@searchPgTransactionSuccessfully') . passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* def jsUtils = read('classpath:com/egov/utils/jsUtils.js') ............... passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* def txnAmount = fetchBillResponse.Bill[0].totalAmount ................... passed
* def name = 'User ' + randomString(10) ................................... passed
* def mobileNumber = '78' + randomMobileNumGen(8) ......................... passed
* def pgSericesConstant = read('../../core-services/constants/pgServices.yaml') . passed
* def envCommon = read('file:envYaml/common/common.yaml') ................. passed
* def callbackUrl = envHost + envCommon.endPoints.pgServices.payload ...... passed
* def commonConstants = read('../../common-services/constants/genericConstants.yaml') . passed
* def gateway = commonConstants.parameters.gateway ........................ passed
* def pgServicesCreatePayload = read('../../core-services/requestPayload/pg-service/pgServicesCreate.json') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* def transactionIdFirst = txnId .......................................... passed
* call read('../../business-services/tests/billingServicesDemand.feature@create_01') . passed
* call read('../../business-services/pretest/billingServicePretest.feature@fetchBill') . passed
* call read('../../core-services/pretests/pgServiceCreate.feature@createPgTransactionSuccessfully') . passed
* def transactionIdSecond = txnId ......................................... passed
* eval multipleTransactionIds = transactionIdFirst + ',' + transactionIdSecond . passed
* eval txnId = multipleTransactionIds ..................................... passed
* call read('../../core-services/pretests/pgServiceSearch.feature@searchPgTransactionSuccessfully') . failed

Stack Trace:
com.intuit.karate.exception.KarateException: pgServices.feature:160 - 
-unknown-:5 - 
pgServiceCreate.feature:13 - status code was: 400, expected: 200, response time: 135, url: https://qa.digit.org/pg-service/transaction/v1/_create?, response: {"ResponseInfo":null,"Errors":[{"code":"TXN_ABRUPTLY_DISCARDED","description":"","message":"A transaction for this bill has been abruptly discarded, please retry after 30 mins","params":null}]}
	at ✽.* call read('../../core-services/pretests/pgServiceSearch.feature@searchPgTransactionSuccessfully') (pgServices.feature:160)</failure>
   </testcase>
</testsuite>
